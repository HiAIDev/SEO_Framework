'use strict';window.tsf={nonce:tsfL10n.nonce,nonces:tsfL10n.nonces,i18n:tsfL10n.i18n,states:tsfL10n.states,params:tsfL10n.params,other:tsfL10n.other,settingsChanged:!1,titleTagline:!1,titleSeparator:'',descriptionSeparator:'',counterType:0,hasInput:!1,additionsClass:'',cropper:{},docTitles:function docTitles(){var a=jQuery('#autodescription_title, #autodescription-meta\\[doctitle\\], #autodescription-site-settings\\[homepage_title\\]');return a},docDescriptions:function docDescriptions(){var a=jQuery('#autodescription_description, #autodescription-meta\\[description\\], #autodescription-site-settings\\[homepage_description\\]');return a},confirm:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return confirm(a)}),updateCharacterCountDescription:function updateCharacterCountDescription(a){var b=a.target.value&&a.target.value.length||0,c=document.getElementById(a.target.id+'_chars'),d=tsf.counterType,e=tsf.additionsClass,f='',g='',j='';0===b&&(b=a.target.placeholder&&a.target.placeholder.length||0),100>b||175<=b?(f='tsf-count-bad',g=tsf.getCounterName('bad')):137>b||155<b&&175>b?(f='tsf-count-okay',g=tsf.getCounterName('okay')):(f='tsf-count-good',g=tsf.getCounterName('good')),2>d?j=b:2==d?j=g:3==d&&(j=b+' - '+g),c.innerHTML=j,e&&(f+=' '+e),c.className!==f&&(c.className=f)},updateCharacterCountTitle:function updateCharacterCountTitle(a){var b=jQuery(a.target),c=tsf.params.titleAdditions.length,d=tsf.params.blogDescription.length,e=tsf.params.siteTitle.length,f=a.target.value&&a.target.value.length||0,g=jQuery(a.target).prop('placeholder').length,j=jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').val(),k=3,l=jQuery('#'+tsf.escapeStr(a.target.id)+'_chars'),m=0,n=tsf.additionsClass,o=tsf.counterType,p='',q='',r='';if(tsf.titleTagline||(c=0,k=0),0===f&&(0===e?m=g||0:f=e||0),0!==f){if(0!==c&&'undefined'!=typeof j){var s=j.length;c=0===s?d:s}m=0===c?f:f+k+c}25>m||75<=m?(p='tsf-count-bad',q=tsf.getCounterName('bad')):42>m||55<m&&75>m?(p='tsf-count-okay',q=tsf.getCounterName('okay')):(p='tsf-count-good',q=tsf.getCounterName('good')),n&&(p+=' '+n),o&&1!=o?2==o?r=q:3==o&&(r=m.toString()+' - '+q):r=m.toString(),l.text(r).removeClass().addClass(p)},escapeStr:function escapeStr(a){return a?a.replace(/([\[\]\/])/g,'\\$1'):a},separatorSwitchTitle:function separatorSwitchTitle(a){var b=jQuery('.tsf-sep-js'),c=jQuery(a.target).val();switch(tsf.titleSeparator=c,c){case'pipe':b.text(' | ');break;case'dash':b.text(' - ');break;default:b.html(' &'+c+'; ').text();}},separatorSwitchDesc:function separatorSwitchDesc(a){var b=jQuery('#autodescription-descsep-js'),c=jQuery(a.target).val();switch(c){case'pipe':b.text(' | ');break;case'dash':b.text(' - ');break;default:b.html(' &'+c+'; ').text();}},initToolTips:function initToolTips(){var a=0,b=!1,c=function(){b=!0,clearTimeout(a),a=setTimeout(function(){b=!1},250)},d=function(n){if(!b){var o=!1;switch(n.type){case'mouseenter':break;case'pointerdown':case'touchstart':o=!0;break;default:}if(n.target.classList.contains('tsf-seo-bar-item'))o&&c(),g(n),e(n.target,o);else{var p=n.target.querySelector(':hover');p&&jQuery(p).trigger(n.type),o&&c()}return!1}},e=function(n,o,p){o=o||!1,p=p||!1,o||(p?jQuery(n).off('mousemove mouseleave mouseout'):jQuery(n).on({mousemove:j,mouseleave:k,mouseout:k}));var q='pointerdown.tsfTT touchstart.tsfTT click.tsfTT';jQuery(document.body).off(q),p||jQuery(document.body).on(q,l)},f=function(n,o){e(n,o,!0)},g=function(n){var o=jQuery(n.target),p=o.data('desc');if(p&&0===o.find('div').length){o.append('<div class="tsf-explanation-desc">'+p+'<div></div></div>');var q=o.find('div.tsf-explanation-desc').height()+28;o.find('div.tsf-explanation-desc').css('top',o.position().top-q+'px'),j(n)}},j=function(n){var o=jQuery(n.target),p=n.originalEvent&&n.originalEvent.pageX||n.pageX,q=p-o.closest('.tsf-seo-bar-inner-wrap').offset().left-12,r=o.find('.tsf-explanation-desc'),s=r.find('div');if(2>q)s.css('left','2px');else if(void 0!==r.offset()){var t=r.width(),u=r.offset().left+t+12;p>u?s.css('left',t+'px'):s.css('left',q+'px')}},k=function(n){b||(jQuery(n.target).find('.tsf-explanation-desc').remove(),f(n.target))},l=function(n){c();var r,p='.tsf-explanation-desc',q=jQuery(n.target);if(q.hasClass('tsf-seo-bar-item')&&(r=q.find(p)),!r){var s=q.children('.tsf-seo-bar-item');s.length&&(r=s.find(p))}r&&r.length?jQuery(p).not(r).remove():jQuery(p).remove()};(function m(){var n=jQuery('.tsf-seo-bar-inner-wrap');n.off('mouseenter pointerdown touchstart'),n.on('mouseenter pointerdown touchstart','.tsf-seo-bar-item',d)})()},tabToggle:function tabToggle(a){var b=jQuery(a.target);if(b.is(':checked')){var c=b.prop('id'),d=b.prop('name');if('undefined'!=typeof d){var e='tsf-active-tab-content',f=jQuery('#'+c+'-content'),g=jQuery('.'+e);if(!f.is(g)&&'undefined'!=typeof f){var j=jQuery('.'+d+'-content');j.fadeOut(150,function(){jQuery(this).removeClass(e)}),setTimeout(function(){f.addClass(e).fadeIn(250)},150),setTimeout(function(){jQuery('#'+c).trigger('tsf-tab-toggled')},175)}}}},flexTabToggle:function flexTabToggle(a){var b=jQuery(a.target);if(b.is(':checked')){var c=b.prop('id'),d=b.prop('name');if('undefined'!=typeof d){var e='tsf-flex-tab-content-active',f=jQuery('#'+c+'-content'),g=jQuery('.'+e);if(!f.is(g)&&'undefined'!=typeof f){var j=jQuery('.'+d+'-content');j.fadeOut(150,function(){jQuery(this).removeClass(e)}),setTimeout(function(){f.addClass(e).fadeIn(250)},150),setTimeout(function(){jQuery('#'+c).trigger('tsf-flex-tab-toggled')},175)}}}},setTabsOnload:function setTabsOnload(){if(tsf.hasInput)if(tsf.states.isSettingsPage){var a=jQuery('.tsf-nav-tab-wrapper .tsf-tab:nth-of-type(n+2) input:checked');a.length&&a.each(function(){var c=jQuery(this),d=c.prop('id'),e=c.prop('name');if('undefined'!=typeof e){var f='tsf-active-tab-content',g=jQuery('#'+d+'-content');if('undefined'!=typeof g){var j=jQuery('.'+e+'-content');j.removeClass(f),g.addClass(f),setTimeout(function(){jQuery('#'+d).trigger('tsf-tab-toggled')},20)}}})}else;},taglineToggleTitle:function taglineToggleTitle(a){var b=jQuery(a.target),c=jQuery('.tsf-custom-blogname-js');b.is(':checked')?(c.css('display','inline'),tsf.titleTagline=!0):(c.css('display','none'),tsf.titleTagline=!1),tsf.docTitles().trigger('keyup',tsf.updateCharacterCountTitle)},taglineToggleDesc:function taglineToggleDesc(a){var b=jQuery(a.target),c=jQuery('#tsf-on-blogname-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},titleLocationToggle:function titleLocationToggle(a){var b=jQuery(a.target).val(),c=jQuery('.tsf-title-additions-example-left'),d=jQuery('.tsf-title-additions-example-right');'right'===b?(c.css('display','none'),d.css('display','inline')):(c.css('display','inline'),d.css('display','none'))},titlePrefixToggle:function titlePrefixToggle(a){var b=jQuery(a.target),c=jQuery('.tsf-title-prefix-example');b.is(':checked')?c.css('display','none'):c.css('display','inline')},additionsToggleDesc:function additionsToggleDesc(a){var b=jQuery(a.target),c=jQuery('#tsf-description-additions-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},taglineToggleOnload:function taglineToggleOnload(){if(tsf.hasInput){var a=jQuery('#tsf-title-tagline-toggle :input'),b=jQuery('.tsf-custom-blogname-js'),c=jQuery('#tsf-description-additions-toggle :input'),d=jQuery('#tsf-description-additions-js'),e=jQuery('#tsf-description-onblogname-toggle :input'),f=jQuery('#tsf-on-blogname-js'),g=jQuery('#tsf-title-additions-toggle :input'),j=jQuery('.tsf-title-additions-js');a.is(':checked')?b.css('display','inline'):b.css('display','none'),c.is(':checked')?d.css('display','inline'):d.css('display','none'),e.is(':checked')?f.css('display','inline'):f.css('display','none'),g.is(':checked')?j.css('display','none'):j.css('display','inline')}},titleProp:function titleProp(a){var b=a.target.value||'',c=jQuery('.tsf-custom-title-js');0===b.length?c.text(tsf.params.siteTitle):c.text(b)},taglineProp:function taglineProp(a){var b=a.target.value||'',c=jQuery('.tsf-custom-tagline-js'),d=jQuery('#autodescription-site-settings\\[homepage_title\\]'),e=jQuery('#tsf-home-title-location input:checked').val(),f=jQuery('#autodescription-site-settings\\[homepage_tagline\\]'),g=tsf.params.siteTitle,j=g,k=tsf.params.blogDescription,l=tsf.getSep('title');f.is(':checked')&&(0!==b.length&&(k=b),j=0!==e.length&&'left'===e?g+' '+l+' '+k:k+' '+l+' '+g),c.text(k),d.prop('placeholder',j),tsf.docTitles().trigger('input',tsf.updateCharacterCountTitle)},taglinePropTrigger:function taglinePropTrigger(){var a=tsf.settingsChanged;tsf.states.isSettingsPage?jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').trigger('input',tsf.taglineProp):jQuery('#autodescription_title').trigger('input',tsf.taglineProp),tsf.settingsChanged=a},taglinePropTriggerResize:function taglinePropTriggerResize(){var a=0,b=0;jQuery(window).resize(function(){clearTimeout(a),a=setTimeout(function(){var c=jQuery(window).width();b<c?782>=b&&782<=c&&tsf.taglinePropTrigger():782<=b&&782>=c&&tsf.taglinePropTrigger(),b=c},250)})},titleToggle:function titleToggle(){var a=jQuery(event.target),b=jQuery('.tsf-title-additions-js');a.is(':checked')?b.css('display','none'):b.css('display','inline')},attachUnsavedChangesListener:function attachUnsavedChangesListener(){if(tsf.hasInput){var a=function(d){tsf.settingsChanged||tsf.registerChange(),jQuery(b).not(c).off(d.type,a)},b='.tsf-metaboxes :input, #tsf-inpost-box .inside :input',c='.tsf-tab :input, .tsf-flex-nav-tab :input';jQuery(b).not(c).on('change',a),b='.tsf-metaboxes input[type=text], .tsf-metaboxes textarea, #tsf-inpost-box .inside input[type=text], #tsf-inpost-box .inside textarea',c='.tsf-nav-tab-wrapper input, .tsf-flex-nav-tab-wrapper input',jQuery(b).not(c).on('input',a),window.onbeforeunload=function(){if(tsf.settingsChanged)return tsf.i18n.saveAlert},jQuery('.tsf-metaboxes input[type="submit"], #publishing-action input[type="submit"], #save-action input[type="submit"], a.submitdelete').click(function(){window.onbeforeunload=null})}},registerChange:function registerChange(){tsf.settingsChanged=!0},confirmedReset:function confirmedReset(){return confirm(tsf.i18n.confirmReset)},dynamicPlaceholder:function dynamicPlaceholder(a){var e=tsf.params.titleAdditions.length,f=jQuery('#tsf-title-placeholder');if(!e)return jQuery(a.target).css('text-indent','initial'),f.empty();var g=!1,j=jQuery('#tsf-home-title-location input:checked').val(),k=tsf.states.isRTL,l='';if('undefined'!=typeof j&&0!==j.length)k?'right'===j&&(g=!0):'left'===j&&(g=!0);else{var m=tsf.params.titleLocation;tsf.states.isHome?tsf.titleTagline&&(k?'right'===m&&(g=!0):'left'===m&&(g=!0)):k?'left'===m&&(g=!0):'right'===m&&(g=!0)}var n=jQuery('#tsf-title-tagline-toggle :input');if('undefined'!=typeof n&&0<n.length&&!n.is(':checked')){var o=jQuery(a.target);o.css('text-indent','initial'),f.css('display','none')}else{var b=jQuery(a.target),c=b.val(),d=jQuery('#tsf-title-offset'),p=0,q=b.outerWidth(),r=(b.outerHeight(!0)-b.height())/2,s=(q-b.innerWidth())/2,t=(b.outerWidth(!0)-b.width())/2,u=jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').val(),v='left',x=tsf.getSep('title');k&&(v='right'),'undefined'!=typeof u&&0===u.length&&(u=tsf.params.blogDescription),g?(l=' '+x+' '+tsf.params.titleAdditions,'undefined'!=typeof u&&0<u.length&&(l=' '+x+' '+u),b.css('text-indent','initial')):(l=tsf.params.titleAdditions+' '+x+' ','undefined'!=typeof u&&0<u.length&&(l=u+' '+x+' ')),d.text(c),d.css({fontFamily:b.css('fontFamily'),fontWeight:b.css('fontWeight'),letterSpacing:b.css('letterSpacing'),fontSize:b.css('fontSize')}),p=d.width();var y=b.width()-s-p;if(0>y&&(y=0),f.css({display:b.css('display'),lineHeight:b.css('lineHeight'),paddingTop:r+'px',paddingBottom:r+'px',fontFamily:b.css('fontFamily'),fontWeight:b.css('fontWeight'),fontSize:b.css('fontSize'),letterSpacing:b.css('letterSpacing'),maxWidth:y+'px'}),'undefined'==typeof c||1>c.length)g||b.css('text-indent','initial'),f.empty();else if(f.text(l),q>t)if(g)f.css(v,s+t+d.width()+'px');else{var z=s+f.width();0>z&&(z=0),f.css(v,t+'px'),b.css('text-indent',z+'px')}}},selectTitleInput:function selectTitleInput(){var a=tsf.docTitles();if(a.focus(),a.setSelectionRange){var b=2*a.val().length;a.setSelectionRange(b,b)}else a.val(a.val()).focus()},triggerDescriptionOnLoad:function triggerDescriptionOnLoad(){if(tsf.hasInput){var a=tsf.docDescriptions();a.trigger('input',tsf.updateCharacterCountDescription)}},triggerTitleOnLoad:function triggerTitleOnLoad(){if(tsf.hasInput){var a=tsf.docTitles();a.trigger('input',tsf.updateCharacterCountTitle)}},onLoadUnregisterChange:function onLoadUnregisterChange(){tsf.settingsChanged=!1},dismissNotice:function dismissNotice(a){jQuery(a.target).parents('.tsf-notice').slideUp(200,function(){this.remove()})},setAjaxLoader:function setAjaxLoader(a){jQuery(a).toggleClass('tsf-loading')},unsetAjaxLoader:function unsetAjaxLoader(a,b){var c='tsf-success',d=2500;b||(c='tsf-error',d=5e3),jQuery(a).removeClass('tsf-loading').addClass(c).fadeOut(d)},resetAjaxLoader:function resetAjaxLoader(a){jQuery(a).stop().empty().prop('class','tsf-ajax').css('opacity','1').removeProp('style')},counterUpdate:function counterUpdate(){++tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),tsf.additionsClassInit();var b='.tsf-counter .tsf-ajax',c=0;tsf.resetAjaxLoader(b),tsf.setAjaxLoader(b);var d={method:'POST',url:ajaxurl,datatype:'json',data:{action:'the_seo_framework_update_counter',nonce:tsf.nonces.edit_posts,val:tsf.counterType},async:!0,success:function success(e){e=jQuery.parseJSON(e),'success'===e.type&&(c=1),tsf.counterUpdatedResponse(b,c)}};jQuery.ajax(d)},counterUpdatedResponse:function counterUpdatedResponse(a,b){switch(b){case 0:tsf.unsetAjaxLoader(a,!1);break;case 1:tsf.unsetAjaxLoader(a,!0);break;default:tsf.resetAjaxLoader(a);}},additionsClassInit:function additionsClassInit(){if(tsf.hasInput){var a=tsf.counterType,b=tsf.settingsChanged;1==a?(tsf.additionsClass='tsf-counter-one',tsf.counterType=1):2==a?(tsf.additionsClass='tsf-counter-two',tsf.counterType=2):3==a?(tsf.additionsClass='tsf-counter-three',tsf.counterType=3):(tsf.additionsClass='tsf-counter-zero',tsf.counterType=0),tsf.updateCounters(),tsf.settingsChanged=b}},updateCounters:function updateCounters(){tsf.triggerTitleOnLoad(),tsf.triggerDescriptionOnLoad()},getCounterName:function getCounterName(a){return tsf.i18n[a]},getSep:function getSep(a){var b='',c='';return b='title'===a?tsf.titleSeparator:tsf.descriptionSeparator,'pipe'==b||'|'==b?c='|':'dash'==b||'-'==b?c='-':123>b.charCodeAt(0)&&(c=jQuery.trim(b),'&'===b.charAt(0)&&';'===b.slice(-1)&&(b=b.substr(1).slice(0,-1)),c=jQuery('<div/>').html('&'+b+';').text()),c},openImageEditor:function openImageEditor(a){if(jQuery(a.target).prop('disabled')||'undefined'==typeof wp.media)return a.preventDefault(),void a.stopPropagation();var d,b=jQuery(a.target),c=b.data('inputid');if(d)return void d.open();a.preventDefault(),a.stopPropagation(),tsf.extendCropper(),d=wp.media({button:{text:tsf.other[c].frame_button,close:!1},states:[new wp.media.controller.Library({title:tsf.other[c].frame_title,library:wp.media.query({type:'image'}),multiple:!1,date:!1,priority:20,suggestedWidth:1200,suggestedHeight:630}),new tsf.cropper({imgSelectOptions:tsf.calculateImageSelectOptions})]});var e=function(){d.setState('cropper')};d.off('select',e),d.on('select',e);var f=function(k){var l=k.url,m=k.id,n=k.width,o=k.height;jQuery('#'+c+'-url').val(l),jQuery('#'+c+'-id').val(m)};d.off('cropped',f),d.on('cropped',f);var g=function(k){var l=k.get('url'),m=k.get('id'),n=k.get('width'),o=k.get('height');jQuery('#'+c+'-url').val(l),jQuery('#'+c+'-id').val(m)};d.off('skippedcrop',g),d.on('skippedcrop',g);var j=function(){jQuery('#'+c+'-select').text(tsf.other[c].change),jQuery('#'+c+'-url').prop('readonly',!0).css('opacity',0).animate({opacity:1},{queue:!0,duration:1000},'swing'),tsf.appendRemoveButton(b,c,!0),tsf.registerChange()};d.off('skippedcrop cropped',j),d.on('skippedcrop cropped',j),d.open()},appendRemoveButton:function appendRemoveButton(a,b,c){a&&b&&!jQuery('#'+b+'-remove').length&&(a.after('<a href="javascript:void(0)" id="'+b+'-remove" class="tsf-remove-social-image button button-small" data-inputid="'+b+'" title="'+tsf.other[b].remove_title+'">'+tsf.other[b].remove+'</a>'),c&&jQuery('#'+b+'-remove').css('opacity',0).animate({opacity:1},{queue:!0,duration:1000},'swing')),tsf.resetImageEditorActions()},removeEditorImage:function removeEditorImage(a){var b=jQuery(a.target),c=b.data('inputid');jQuery('#'+c+'-select').prop('disabled')||(jQuery('#'+c+'-select').addClass('disabled').prop('disabled',!0),jQuery('#'+c+'-remove').addClass('disabled').prop('disabled',!0).fadeOut(500,function(){jQuery(this).remove(),jQuery('#'+c+'-select').text(tsf.other[c].select).removeClass('disabled').removeProp('disabled')}),jQuery('#'+c+'-url').val('').removeProp('readonly').css('opacity',0).animate({opacity:1},{queue:!0,duration:500},'swing'),jQuery('#'+c+'-id').val(''),tsf.registerChange())},extendCropper:function extendCropper(){if('undefined'==typeof tsf.cropper.control){var a,b=wp.media.controller;return a=b.Cropper.extend({doCrop:function doCrop(c){var d=c.get('cropDetails'),e=tsf.cropper.control;if(e.params.flex_width&&e.params.flex_height)if(d.width===d.height)d.width>e.params.flex_width&&(d.dst_width=d.dst_height=e.params.flex_width);else if(d.width>e.params.flex_width||d.height>e.params.flex_height)if(d.width>d.height){var f=d.width/e.params.flex_width;d.dst_width=e.params.flex_width,d.dst_height=Math.round(d.height/f)}else{var f=d.height/e.params.flex_height;d.dst_height=e.params.flex_height,d.dst_width=Math.round(d.width/f)}return'undefined'==typeof d.dst_width&&(d.dst_width=0,d.dst_height=0),wp.ajax.post('tsf-crop-image',{nonce:tsf.nonces.upload_files,id:c.get('id'),context:'tsf-image',cropDetails:d})}}),a.prototype.control={},a.control={params:{flex_width:4096,flex_height:4096,width:1200,height:630}},void(tsf.cropper=a)}},calculateImageSelectOptions:function calculateImageSelectOptions(a,b){var o,p,q,g=tsf.cropper.control,c=!!parseInt(g.params.flex_width,10),d=!!parseInt(g.params.flex_height,10),e=parseInt(g.params.width,10),f=parseInt(g.params.height,10),j=a.get('width'),k=a.get('height'),l=e/f,m=e,n=f;return b.set('control',g.params),b.set('canSkipCrop',!tsf.mustBeCropped(g.params.flex_width,g.params.flex_height,j,k)),j/k>l?(f=k,e=f*l):(e=j,f=e/l),o=(j-e)/2,p=(k-f)/2,q={handles:!0,keys:!0,instance:!0,persistent:!0,imageWidth:j,imageHeight:k,minWidth:m>e?e:m,minHeight:n>f?f:n,x1:o,y1:p,x2:e+o,y2:f+p},!1==d&&!1==c&&(q.aspectRatio=e+':'+f),!0==d&&(q.minHeight=200,q.maxWidth=j),!0==c&&(q.minWidth=200,q.maxHeight=k),q},mustBeCropped:function mustBeCropped(a,b,c,d){return c<=a&&d<=b?!1:!0},resetImageEditorActions:function resetImageEditorActions(){jQuery('.tsf-remove-social-image').off('click',tsf.removeEditorImage),jQuery('.tsf-remove-social-image').on('click',tsf.removeEditorImage)},setupImageEditorActions:function setupImageEditorActions(){jQuery('.tsf-set-social-image').off('click',tsf.openImageEditor),jQuery('.tsf-remove-social-image').off('click',tsf.removeEditorImage),jQuery('.tsf-set-social-image').on('click',tsf.openImageEditor),jQuery('.tsf-remove-social-image').on('click',tsf.removeEditorImage)},checkImageEditorInput:function checkImageEditorInput(){var a=jQuery('.tsf-set-social-image');if(a.length){var b='',c='';jQuery.each(a,function(d,e){b=jQuery(e).data('inputid'),c=jQuery('#'+b+'-id'),c.length&&0<c.val()&&(jQuery('#'+b+'-url').prop('readonly',!0),tsf.appendRemoveButton(jQuery(e),b,!1)),jQuery('#'+b+'-url').val()&&jQuery('#'+b+'-select').text(tsf.other[b].change)})}},setColorOnload:function setColorOnload(){var a=jQuery('.tsf-color-picker');a.length&&jQuery.each(a,function(b,c){var d=jQuery(c),e='',f=d.data('tsf-default-color');d.wpColorPicker({defaultColor:f,width:238,change:function change(){e=d.wpColorPicker('color'),''==e&&(e=f),d.val(e),tsf.registerChange()},clear:function clear(){d.parent().siblings('.wp-color-result').css('backgroundColor',f),tsf.registerChange()},palettes:!1})})},setupVars:function setupVars(){tsf.titleSeparator=tsf.params.titleSeparator,tsf.descriptionSeparator=tsf.params.descriptionSeparator,tsf.titleTagline=tsf.states.titleTagline,tsf.counterType=parseInt(tsf.states.counterType),tsf.hasInput=tsf.states.hasInput},_initTitlepropListener:function _initTitlepropListener(){if(tsf.hasInput){var a=jQuery;a('#tsf-title-tagline-toggle :input').on('click',tsf.taglineToggleTitle),a('#tsf-title-location input').on('click',tsf.titleLocationToggle),a('#title-prefixes-toggle :input').on('click',tsf.titlePrefixToggle),a('#autodescription-site-settings\\[homepage_title\\]').on('input',tsf.titleProp),a('#tsf-home-title-location :input, #tsf-title-tagline-toggle :input, #tsf-title-separator input').on('click',tsf.taglinePropTrigger),a('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',tsf.taglineProp),a('#homepage-tab-general').on('tsf-tab-toggled',tsf.taglinePropTrigger),a('#autodescription-homepage-settings > button').on('click',tsf.taglinePropTrigger),a('#tsf-inpost-box > button').on('click',tsf.taglinePropTrigger),a('#autodescription-site-settings\\[title_rem_additions\\]').on('click',tsf.titleToggle),tsf.docTitles().on('input',tsf.dynamicPlaceholder),a('#tsf-title-placeholder').on('click',tsf.selectTitleInput),a(window).resize(tsf.taglinePropTriggerResize)}},_doFlexResizeListener:function _doFlexResizeListener(){if(jQuery('.tsf-flex').length){tsf._setResizeListeners();var a=0,b={},c=0,d=jQuery('.tsf-flex-nav-tab-wrapper');jQuery(window).on('tsf-flex-resize',function(){clearTimeout(a);var e=0;a=setTimeout(function(){if(d.length){var f=jQuery('.tsf-flex-nav-tab-inner'),g=d.width(),j=f.width(),k=jQuery('.tsf-flex-nav-name');b.tabWrapper||(b.tabWrapper={},b.tabWrapper.outer=0,b.tabWrapper.inner=0,b.tabWrapper.shown=1),!b.tabWrapper.shown&&b.tabWrapper.outer<g&&(k.fadeIn(250),setTimeout(function(){j=f.width()},e)),setTimeout(function(){j>g?(k.hide(),b.tabWrapper.shown=0):b.tabWrapper.outer<g&&(k.fadeIn(250),b.tabWrapper.shown=1)},2*e),setTimeout(function(){b.tabWrapper.outer=g,b.tabWrapper.inner=j},3*e)}},c),e=10,c=75}),jQuery(window).trigger('tsf-flex-resize')}},_setResizeListeners:function _setResizeListeners(){jQuery(window).on('resize orientationchange',tsf._triggerResize),jQuery('#collapse-menu').click(tsf._triggerResize),jQuery('.columns-prefs :input[type=radio]').change(tsf._triggerResize),jQuery('.meta-box-sortables').on('sortupdate',tsf._triggerResize)},_triggerResize:function _triggerResize(){jQuery(window).trigger('tsf-flex-resize')},_triggerReady:function _triggerReady(){jQuery(document.body).trigger('tsf-ready')},_doReady:function _doReady(){tsf._initTitlepropListener(),tsf.setTabsOnload(),tsf.additionsClassInit(),tsf.taglineToggleOnload(),tsf.initToolTips(),tsf.setupImageEditorActions(),tsf.checkImageEditorInput(),tsf.setColorOnload(),tsf.attachUnsavedChangesListener(),tsf.onLoadUnregisterChange(),tsf._triggerReady(),tsf._doFlexResizeListener()},ready:function ready(a){tsf.setupVars(),a('div.updated, div.error, div.notice-warning').insertAfter('div.tsf-top-wrap'),a(document.body).ready(tsf._doReady),tsf.docDescriptions().on('input',tsf.updateCharacterCountDescription),tsf.docTitles().on('input',tsf.updateCharacterCountTitle),a('#tsf-title-separator input').on('click',tsf.separatorSwitchTitle),a('#tsf-description-separator input').on('click',tsf.separatorSwitchDesc),a('.tsf-js-confirm-reset').on('click',tsf.confirmedReset),a('.tsf-tabs-radio').on('change',tsf.tabToggle),a('.tsf-flex-nav-tab-radio').on('change',tsf.flexTabToggle),a('#tsf-description-onblogname-toggle :input').on('click',tsf.taglineToggleDesc),a('#tsf-description-additions-toggle :input').on('click',tsf.additionsToggleDesc),a('.tsf-dismiss').on('click',tsf.dismissNotice),a('.tsf-counter').on('click',tsf.counterUpdate)}},jQuery(tsf.ready);
