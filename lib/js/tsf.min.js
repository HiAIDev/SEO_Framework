'use strict';window.tsf={nonces:tsfL10n.nonces,i18n:tsfL10n.i18n,states:tsfL10n.states,params:tsfL10n.params,settingsChanged:!1,counterType:0,hasInput:!1,additionsClass:'',confirm:function(t){return confirm(t)},stripTags:function(t){return t.replace(/(<([^>]+)?>?)/ig,'')},escapeString:function(t){if(!t.length)return'';let s={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'};return t.replace(/[&<>"']/g,n=>s[n])},unescapeString:function(t){if(!t.length)return'';let s={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'},n=Object.keys(s).map(o=>s[o]),a=new RegExp(n.map(o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&')).join('|'),'g');return t.replace(a,o=>Object.keys(s).find(r=>s[r]===o))},sDoubleSpace:function(t){return t.replace(/\s\s+/g,' ')},getStringLength:function(t){let s,n=0;return t.length&&(s=document.createElement('span'),s.innerHTML=tsf.escapeString(t),n=s.childNodes[0].nodeValue.length),+n},convertJSONResponse:function(t){let s=t&&t.json||void 0,n=1===s;if(!n){let a=t;try{t=JSON.parse(t),n=!0}catch(o){n=!1}n||(t=a)}return t},updatePixelCounter:function(t){let s=t.e,n=t.text,a=t.guideline,o=s.parentElement;if(o){let r=o.querySelector('.tsf-pixel-counter-bar'),l=o.querySelector('.tsf-pixel-counter-shadow');if(r&&l){l.innerHTML=tsf.escapeString(n);let c=l.offsetWidth,g='',d='',f='tsf-pixel-counter-fit',u='tsf-pixel-counter-overflown';c>a?(d=100*(a/(c+2*(c-a)/3))+'%',g=u):(d=100*(c/a)+'%',g=f);let b,h=r.querySelector('.tsf-pixel-counter-fluid');b=tsf.i18n.pixelsUsed.replace(/%1\$d/g,c),b=b.replace(/%2\$d/g,a),r.classList.remove(f,u),r.classList.add(g),r.dataset.desc=b,r.setAttribute('aria-label',b),h.style.width=d,tsfTT.triggerUpdate(r)}}},_initTitleInputs:function(){if(tsf.hasInput){let t=jQuery(['#autodescription_title','#autodescription-meta\\[doctitle\\]','#autodescription-site-settings\\[homepage_title\\]'].join(', '));if(t.length){let a,o,r,c,s=!1,n=!!navigator.userAgent.match(/Trident\/7\./),l='',g='',d=tsf.params.titleSeparator,f=tsf.params.defaultTitle,u=tsf.states.useTagline,h=tsf.states.isRTL,b=tsf.states.isPrivate,x=tsf.states.isPasswordProtected,y=tsf.states.stripTitleTags;a=h?'after':'before';const _=function(){let X='before';tsf.states.isSettingsPage?h?'right'===jQuery('#tsf-home-title-location input:checked').val()&&(X='after'):'left'===jQuery('#tsf-home-title-location input:checked').val()&&(X='after'):tsf.states.isHome?h?'right'===tsf.params.titleLocation&&(X='after'):'left'===tsf.params.titleLocation&&(X='after'):h?'left'===tsf.params.titleLocation&&(X='after'):'right'===tsf.params.titleLocation&&(X='after'),o=X};_();const T=function(){let X='';if(!tsf.states.isSettingsPage)tsf.states.isHome?u&&(X=tsf.params.titleAdditions):u&&(X=tsf.params.titleAdditions);else if(u){let Y=document.getElementById('autodescription-site-settings[homepage_title_tagline]'),Z=Y?Y.value:'';X=Z.length?Z:tsf.params.blogDescription}X.length&&(X=tsf.escapeString(X),'before'===o?X=X+' '+d+' ':'after'===o?X=' '+d+' '+X:void 0),g=X.length?X:'',c=document.getElementById('tsf-title-placeholder'),g.length&&c&&(c.innerHTML=g)};T();const C=function(){let X='';b?X=tsf.i18n.privateTitle:x&&(X=tsf.i18n.protectedTitle),X.length&&(X=tsf.escapeString(X),'before'===a?X+=' ':'after'===a?X=' '+X:void 0),l=X.length?X:'',l.length&&r&&(r.innerHTML=l),r=document.getElementById('tsf-title-placeholder-prefix'),l.length&&r&&(r.innerHTML=l)};C();const L=function(X){if(c||r){let Y=jQuery(X.target),Z=Y.val(),K=!!g.length,Q=!!l.length;if(!K&&c&&(c.style.display='none'),!Q&&r&&(r.style.display='none'),!K&&!Q)return void Y.css('text-indent','initial');if(!Z.length)return Y.css('text-indent','initial'),c&&(c.style.display='none'),void(r&&(r.style.display='none'));let ee=Y.outerWidth(!0),te=(Y.outerHeight(!0)-Y.height())/2,se=(ee-Y.innerWidth())/2,ie=h?'right':'left',ne=(Y.outerWidth(!0)-Y.width())/2,ae={display:Y.css('display'),lineHeight:Y.css('lineHeight'),fontFamily:Y.css('fontFamily'),fontWeight:Y.css('fontWeight'),fontSize:Y.css('fontSize'),letterSpacing:Y.css('letterSpacing'),paddingTop:te+'px',paddingBottom:te+'px'},oe=jQuery(r),re=jQuery(c),le=0,ce=0,ge=0,de=0,pe=0,fe=0;if(Q&&(oe.css(ae),oe.css({maxWidth:'initial'}),pe=oe[0].getBoundingClientRect().width,pe<fe&&(pe=0)),K){let he=0;switch(function(){let me=jQuery('#tsf-title-offset');me.text(Z),me.css({fontFamily:ae.fontFamily,fontWeight:ae.fontWeight,letterSpacing:ae.letterSpacing,fontSize:ae.fontSize}),he=me[0].getBoundingClientRect().width}(),le=Y[0].getBoundingClientRect().width-se-ne-he-pe,le<fe&&(pe+=le,le=0),re.css(ae),re.css({maxWidth:'initial'}),o){case'before':let me=re[0].getBoundingClientRect().width;me=le<me?le:me,me<fe&&(me=0),le=me,de+=le,ge+=le,ce+=ne;break;case'after':ce+=ne+he+pe;}}ge+=ne,pe=0>pe?0:pe,de+=pe;let ue;Q&&(ue={},ue[ie]=ge+'px',ue.maxWidth=pe+'px',oe.css(ue)),K&&(ue={},ue[ie]=ce+'px',ue.maxWidth=le+'px',re.css(ue)),ue={},ue['text-indent']=de+'px',Y.css(ue)}},S=function(){let Y='',Z=!!g.length,K=!!l.length,Q=g,ee=l;tsf.states.isTermEdit&&tsf.params.termName&&(ee=h?' :'+tsf.params.termName:tsf.params.termName+': ',K=tsf.states.useTermPrefix),Y=f,K&&('before'===a?Y=ee+Y:'after'===a?Y+=ee:void 0),Z&&('before'===o?Y=Q+Y:'after'===o?Y+=Q:void 0),n&&(s=!0);let te=document.createElement('span');te.innerHTML=tsf.escapeString(tsf.sDoubleSpace(Y)),t.prop('placeholder',tsf.unescapeString(te.textContent)),n&&setTimeout(function(){s=!1},0)},w=function(X){let Y=document.getElementById('tsf-title-reference'),Z='';Y&&(1>X.target.value.length||tsf.states.homeLocks.refTitleLock?Z=X.target.placeholder:(Z=X.target.value,l.length&&('before'===a?Z=l+Z:'after'===a?Z+=l:void 0),g.length&&('before'===o?Z=g+Z:'after'===o?Z+=g:void 0)),Y.innerHTML=tsf.escapeString(tsf.sDoubleSpace(Z)),setTimeout(()=>{jQuery(Y).change()},0))},I=function(X){let Y=document.getElementById(X.target.id+'_chars'),Z=document.getElementById('tsf-title-reference');if(Y&&Z){let K=tsf.getStringLength(tsf.unescapeString(Z.innerHTML)),Q=X.target,ee='',te=tsf.counterType,se='',ie='';25>K||75<=K?(ee+='tsf-count-bad',se=tsf.i18n.bad):42>K||55<K?(ee+='tsf-count-okay',se=tsf.i18n.okay):(ee+='tsf-count-good',se=tsf.i18n.good),te&&1!=te?2==te?ie=se:3==te&&(ie=K.toString()+' - '+se):ie=K.toString(),Y.innerHTML=ie,tsf.additionsClass&&(ee+=' '+tsf.additionsClass),Y.className!==ee&&(Y.className=ee)}},j=function(X){let Y=document.getElementById(X.target.id+'_pixels'),Z=document.getElementById('tsf-title-reference');if(Y&&Z){let K={e:Y,text:tsf.unescapeString(Z.innerHTML),guideline:tsf.params.titlePixelGuideline};tsf.updatePixelCounter(K)}};t.on('input.tsfUpdateTitles',function(X){return!s&&void(L(X),S(),w(X),I(X),j(X))});t.on('tsf-update-title-counter',function(X){w(X),I(X),j(X)});const W=function(){t.trigger('tsf-update-title-counter')},H=function(){t.trigger('input.tsfUpdateTitles')};H();const R=function(){T(),H()};jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',R),jQuery('#autodescription-site-settings\\[homepage_tagline\\]').on('change',R);let E=0;const z=function(){clearTimeout(E),E=setTimeout(function(){H()},50)};jQuery(window).on('tsf-counter-updated',z);jQuery('#tsf-title-tagline-toggle :input').on('click',function(X){let Y=u;jQuery(X.target).is(':checked')?(jQuery('.tsf-custom-blogname-js').css('display','inline'),u=!0):(jQuery('.tsf-custom-blogname-js').css('display','none'),u=!1),Y^u&&(T(),z())});jQuery('#visibility .save-post-visibility').on('click',function(){let Y=jQuery('#visibility').find('input:radio:checked').val();switch(b=!1,x=!1,Y){case'password':let Z=jQuery('#visibility').find('#post_password').val();x=!!Z&&!!Z.length;break;case'private':b=!0;break;default:case'public':}C(),z()});jQuery('#tsf-title-separator :input').on('click',function(X){let Y=jQuery(X.target).val(),Z='';Z='pipe'===Y?'|':'dash'===Y?'-':jQuery('<div/>').html('&'+Y+';').text(),d=Z,jQuery('.tsf-sep-js').text(' '+d+' '),T(),z()});const N=function(){let X=tsf.settingsChanged;H(!0),tsf.settingsChanged=X};jQuery('#homepage-tab-general').on('tsf-tab-toggled',N),jQuery('#tsf-flex-inpost-tab-general').on('tsf-flex-tab-toggled',N);let A=0;const M=function(){clearTimeout(A),A=setTimeout(N,50)};jQuery(window).one('tsf-ready',function(){jQuery(window).on('tsf-flex-resize',M)});let F=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(X,Y){if(0<=F.indexOf(Y.id)){let Z=Y.querySelector('.inside');0<Z.offsetHeight&&0<Z.offsetWidth&&N()}});jQuery('#tsf-home-title-location :input').on('click',function(){_(),T(),z()});tsf.states.isHome||jQuery('#edittag #name, #titlewrap #title').on('input',function(X){let Y=X.target.value;Y=Y.trim(),f=Y.length?tsf.escapeString(y?tsf.stripTags(Y):Y):tsf.params.untitledTitle,S(),W()});(function(){let X=0,Y=window.innerWidth;window.addEventListener('resize',function(){clearTimeout(X),X=setTimeout(function(){let Z=window.innerWidth;Y<Z?782>=Y&&782<=Z&&N():782<=Y&&782>=Z&&N(),Y=Z},50)})})()}}},_initUnboundTitleSettings:function(){if(tsf.hasInput){let t=jQuery(['#autodescription_title','#autodescription-meta\\[doctitle\\]','#autodescription-site-settings\\[homepage_title\\]'].join(', '));jQuery('#tsf-title-placeholder, #tsf-title-placeholder-prefix').on('click',function(c){let g=jQuery(c.target).siblings(t)[0];if('function'==typeof g.setSelectionRange){g.focus();let d=2*g.value.length;g.setSelectionRange(d,d)}else{let d=g.value;g.value='',g.focus(),g.value=d}});jQuery('#autodescription-site-settings\\[title_rem_additions\\]').on('click',function(c){jQuery(c.target).is(':checked')?jQuery('.tsf-title-additions-js').css('display','none'):jQuery('.tsf-title-additions-js').css('display','inline')});jQuery('#tsf-title-location input').on('click',function(c){let g=jQuery('.tsf-title-additions-example-left'),d=jQuery('.tsf-title-additions-example-right');'right'===jQuery(c.target).val()?(g.css('display','none'),d.css('display','inline')):(g.css('display','inline'),d.css('display','none'))});jQuery('#autodescription-site-settings\\[homepage_title\\]').on('input',function(c){let g=c.target.value||'',d=jQuery('.tsf-custom-title-js');0===g.length?d.text(tsf.params.defaultTitle):d.text(g)});jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input.tsfInputTagline',function(c){let g=c.target.value||'',d=jQuery('.tsf-custom-tagline-js');0===g.length?(d.text(tsf.params.blogDescription),0===tsf.params.blogDescription.length?jQuery('#tsf-home-title-location .tsf-sep-js').hide():jQuery('#tsf-home-title-location .tsf-sep-js').show()):(d.text(g),jQuery('#tsf-home-title-location .tsf-sep-js').show())}),jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').trigger('input.tsfInputTagline');jQuery('#title-prefixes-toggle :input').on('click',function(c){let g=jQuery(c.target),d=jQuery('.tsf-title-prefix-example');g.is(':checked')?d.css('display','none'):d.css('display','inline')})}},_initDescInputs:function(){if(tsf.hasInput){let t=jQuery('#autodescription_description, #autodescription-meta\\[description\\], #autodescription-site-settings\\[homepage_description\\]');if(t.length){let s=tsf.params.descriptionSeparator;jQuery('#tsf-description-separator input').on('click',function(b){let x=jQuery(b.target).val(),y='';y='pipe'===x?'|':'dash'===x?'-':jQuery('<div/>').html('&'+x+';').text(),s=y,jQuery('#autodescription-descsep-js').text(' '+s+' '),d()});const a=function(b){let x=document.getElementById(b.target.id+'_chars'),y=document.getElementById('tsf-description-reference');if(x){let _=tsf.getStringLength(tsf.unescapeString(y.innerHTML)),T='',C=tsf.counterType,L='',S='';100>_||330<=_?(T+='tsf-count-bad',L=tsf.i18n.bad):137>_||300<_?(T+='tsf-count-okay',L=tsf.i18n.okay):(T+='tsf-count-good',L=tsf.i18n.good),C&&1!=C?2==C?S=L:3==C&&(S=_.toString()+' - '+L):S=_.toString(),x.innerHTML=S,tsf.additionsClass&&(T+=' '+tsf.additionsClass),x.className!==T&&(x.className=T)}},o=function(b){let x=document.getElementById('tsf-description-reference'),y='';x&&(y=1>b.target.value.length||tsf.states.homeLocks.refDescriptionLock?b.target.placeholder:b.target.value,x.innerHTML=tsf.escapeString(tsf.sDoubleSpace(y)),setTimeout(()=>{jQuery(x).change()},0))},r=function(b){let x=document.getElementById(b.target.id+'_pixels'),y=document.getElementById('tsf-description-reference');if(x&&y){let _={e:x,text:tsf.unescapeString(y.innerHTML),guideline:tsf.params.descPixelGuideline};tsf.updatePixelCounter(_)}};t.on('input.tsfUpdateDescriptions',function(b){o(b),a(b),r(b)});const c=function(){t.trigger('input.tsfUpdateDescriptions')};c();let g=0;const d=function(){clearTimeout(g),g=setTimeout(function(){c()},50)};jQuery(window).on('tsf-counter-updated',d);let u=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(b,x){if(0<=u.indexOf(x.id)){let y=x.querySelector('.inside');0<y.offsetHeight&&0<y.offsetWidth&&d()}})}}},_initSocialTitleInputs:function(){if(tsf.hasInput){let t=jQuery('#autodescription_og_title, #autodescription-site-settings\\[homepage_og_title\\]'),s=jQuery('#autodescription_twitter_title, #autodescription-site-settings\\[homepage_twitter_title\\]'),n=jQuery('#tsf-title-reference');if(t.length&&s.length&&n.length){let a=!1,o=!!navigator.userAgent.match(/Trident\/7\./),r=tsf.states.homeLocks.ogTitleLock,l=tsf.states.homeLocks.ogTitlePHLock,c=tsf.states.homeLocks.twTitleLock,g=tsf.states.homeLocks.twTitlePHLock,d=r?t.prop('placeholder'):t.val(),f=c?s.prop('placeholder'):s.val(),u=n.text();const h=C=>{let L='';switchActive:switch(C){case'twitter':if(L=f,c||g){L=L.length?L:s.prop('placeholder');break switchActive}case'og':if(L=L.length?L:d,r||l){L=L.length?L:t.prop('placeholder');break switchActive}case'reference':L=L.length?L:u;}return L},b=()=>{o&&(a=!0),r||l||t.prop('placeholder',h('reference')),c||g||s.prop('placeholder',h('og')),o&&setTimeout(function(){a=!1},0)},x=(C,L,S)=>{tsf.updateSocialCounter(C,tsf.escapeString(L),S)},y=()=>{t.each((C,L)=>x(L,h('og'),88)),s.each((C,L)=>x(L,h('twitter'),70))};n.on('change',()=>{u=n.text(),b(),y()});t.on('input.tsfUpdateOgTitle',C=>{a||(!r&&(d=C.target.value.length?C.target.value:''),b(),y())}),s.on('input.tsfUpdateTwTitle',C=>{a||(!c&&(f=C.target.value.length?C.target.value:''),b(),y())})}}},_initSocialDescInputs:function(){if(tsf.hasInput){let t=jQuery('#autodescription_og_description, #autodescription-site-settings\\[homepage_og_description\\]'),s=jQuery('#autodescription_twitter_description, #autodescription-site-settings\\[homepage_twitter_description\\]'),n=jQuery('#tsf-description-reference');if(t.length&&s.length&&n.length){let a=!1,o=!!navigator.userAgent.match(/Trident\/7\./),r=tsf.states.homeLocks.ogDescriptionLock,l=tsf.states.homeLocks.ogDescriptionPHLock,c=tsf.states.homeLocks.twDescriptionLock,g=tsf.states.homeLocks.twDescriptionPHLock,d=r?t.prop('placeholder'):t.val(),f=c?s.prop('placeholder'):s.val(),u=n.text();const h=C=>{let L='';switchActive:switch(C){case'twitter':if(L=f,c||g){L=L.length?L:s.prop('placeholder');break switchActive}case'og':if(L=L.length?L:d,r||l){L=L.length?L:t.prop('placeholder');break switchActive}case'reference':L=L.length?L:u;}return L},b=()=>{o&&(a=!0),r||l||t.attr('placeholder',h('reference')),c||g||s.attr('placeholder',h('og')),o&&setTimeout(function(){a=!1},0)},x=(C,L,S)=>{tsf.updateSocialCounter(C,tsf.escapeString(L),S)},y=()=>{t.each((C,L)=>x(L,h('og'),300)),s.each((C,L)=>x(L,h('twitter'),200))};n.on('change',()=>{u=n.text(),b(),y()});t.on('input.tsfUpdateOgDesc',C=>{a||(!r&&(d=C.target.value.length?C.target.value:''),b(),y())}),s.on('input.tsfUpdateOgDesc',C=>{a||(!c&&(f=C.target.value.length?C.target.value:''),b(),y())})}}},updateSocialCounter:function(t,s,n){let a=document.getElementById(t.id+'_chars');if(a){let o=tsf.getStringLength(tsf.unescapeString(s)),r='',l=tsf.counterType,c='',g='';o>n?(r+='tsf-count-bad',c=tsf.i18n.bad):(r+='tsf-count-good',c=tsf.i18n.good),l&&1!=l?2==l?g=c:3==l&&(g=o.toString()+' - '+c):g=o.toString(),a.innerHTML=g,tsf.additionsClass&&(r+=' '+tsf.additionsClass),a.className!==r&&(a.className=r)}},_initWebmastersInput:function(){if(tsf.states.isSettingsPage){let t=jQuery(['#autodescription-site-settings\\[google_verification\\]','#autodescription-site-settings\\[bing_verification\\]','#autodescription-site-settings\\[yandex_verification\\]','#autodescription-site-settings\\[pint_verification\\]'].join(', '));t.length&&t.on('paste',s=>{let n=s.originalEvent.clipboardData&&s.originalEvent.clipboardData.getData('text')||void 0;if(n){let a=/<meta[^>]+content=(\"|\')?([^\"\'>\s]+)\1?.*?>/i.exec(n);a&&2 in a&&'string'==typeof a[2]&&a[2].length&&(s.stopPropagation(),s.preventDefault(),s.target.value=a[2])}})}},_initCounters:function(){if(tsf.hasInput){jQuery('.tsf-counter').on('click',function(){++tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),s();let r='.tsf-counter-wrap .tsf-ajax',l=0;tsf.resetAjaxLoader(r),tsf.setAjaxLoader(r);let c={method:'POST',url:ajaxurl,datatype:'json',data:{action:'the_seo_framework_update_counter',nonce:tsf.nonces.edit_posts,val:tsf.counterType},async:!0,success:function(g){switch(g=tsf.convertJSONResponse(g),'success'===g.type&&(l=1),l){case 0:tsf.unsetAjaxLoader(r,!1);break;case 1:tsf.unsetAjaxLoader(r,!0);break;default:tsf.resetAjaxLoader(r);}}};jQuery.ajax(c)});const s=function(){let o=tsf.counterType;1==o?(tsf.additionsClass='tsf-counter-one',tsf.counterType=1):2==o?(tsf.additionsClass='tsf-counter-two',tsf.counterType=2):3==o?(tsf.additionsClass='tsf-counter-three',tsf.counterType=3):(tsf.additionsClass='tsf-counter-zero',tsf.counterType=0),tsf._triggerCounterUpdate()};s();jQuery('#autodescription-site-settings\\[display_character_counter\\]').on('click',function(o){jQuery(o.target).is(':checked')?jQuery('.tsf-counter-wrap').show():jQuery('.tsf-counter-wrap').hide()});jQuery('#autodescription-site-settings\\[display_pixel_counter\\]').on('click',function(o){jQuery(o.target).is(':checked')?(jQuery('.tsf-pixel-counter-wrap').show(),tsf._triggerCounterUpdate()):jQuery('.tsf-pixel-counter-wrap').hide()})}},tabToggle:function(t,s){let n=jQuery(t.target);if(n.is(':checked')){s='boolean'==typeof s&&s;let a=t.target.id,o=t.target.name,r='tsf-active-tab-content',l='tsf-tab-active',c=jQuery('.'+r),g=n.closest('.tsf-nav-tab-wrapper').find('.'+l),d=c.find('input:invalid, select:invalid, textarea:invalid');if(d.length){try{d[0].reportValidity()}catch(u){let h=jQuery(t.target.form).find('input[type=submit]').not('.autodescription-site-settings\\[tsf-settings-reset\\]');h.length&&h[0].click()}return g.prop('checked',!0),n.prop('checked',!1),t.stopPropagation(),t.preventDefault(),!1}let f=jQuery('#'+a+'-content');if(g.removeClass(l),g.siblings('label').removeClass('tsf-no-focus-ring'),n.addClass(l),s){let u=jQuery('.'+o+'-content');u.removeClass(r).hide(),f.addClass(r).show(),jQuery('#'+a).trigger('tsf-tab-toggled')}else if(f.length&&!f.is(c)){let u=jQuery('.'+o+'-content');u.fadeOut(150,function(){jQuery(this).removeClass(r)}),setTimeout(()=>{f.addClass(r).fadeIn(250)},150),setTimeout(()=>{jQuery('#'+a).trigger('tsf-tab-toggled')},175)}}},flexTabToggle:function(t,s){let n=jQuery(t.target);if(n.is(':checked')){s='boolean'==typeof s&&s;let a=t.target.id,o=t.target.name,r='tsf-flex-tab-content-active',l='tsf-flex-tab-active',c=jQuery('.'+r),g=n.closest('.tsf-flex-nav-tab-wrapper').find('.'+l),d=c.find('input:invalid, select:invalid, textarea:invalid');if(d.length){try{d[0].reportValidity()}catch(u){let h=jQuery(t.target.form).find('#publishing-action input[type="submit"], #save-action input[type="submit"]');h.length&&h[0].click()}return g.prop('checked',!0),n.prop('checked',!1),t.stopPropagation(),t.preventDefault(),!1}let f=jQuery('#'+a+'-content');if(g.removeClass(l),g.siblings('label').removeClass('tsf-no-focus-ring'),n.addClass(l),s){let u=jQuery('.'+o+'-content');u.removeClass(r).hide(),f.addClass(r).show(),jQuery('#'+a).trigger('tsf-flex-tab-toggled')}else if(f.length&&!f.is(c)){let u=jQuery('.'+o+'-content');u.fadeOut(150,function(){jQuery(this).removeClass(r)}),setTimeout(()=>{f.addClass(r).fadeIn(250)},150),setTimeout(()=>{jQuery('#'+a).trigger('tsf-flex-tab-toggled')},175)}}},addNoFocusClass:function(){this.classList.add('tsf-no-focus-ring')},setTabsOnload:function(){tsf.hasInput&&(tsf.states.isPostEdit&&jQuery('.tsf-flex-nav-tab-radio:checked').trigger('change',[!0]),tsf.states.isSettingsPage&&jQuery('.tsf-tabs-radio:checked').each((t,s)=>{jQuery(s).trigger('change',[!0])}))},_initPostboxToggle:function(){let t;if(tsf.states.isSettingsPage?t=jQuery('.postbox[id^="autodescription-"]').find('.hndle, .handlediv'):tsf.states.isPostEdit&&(t=jQuery('.postbox#tsf-inpost-box').find('.hndle, .handlediv')),t&&t.length){let s;const n=()=>{try{s[0].reportValidity()}catch(o){let r=jQuery(s[0].form).find('input[type=submit]').not('.autodescription-site-settings\\[tsf-settings-reset\\]');r.length&&r[0].click()}};t.on('click.tsfPostboxes',o=>{let r=jQuery(o.target).closest('.postbox');r[0].classList.contains('closed')&&(s=r.find('input:invalid, select:invalid, textarea:invalid'),s.length&&(jQuery(document).one('postbox-toggled',n),jQuery(o.target).trigger('click')))})}},taglineToggleDesc:function(t){let s=jQuery(t.target),n=jQuery('#tsf-on-blogname-js');s.is(':checked')?n.css('display','inline'):n.css('display','none')},additionsToggleDesc:function(t){let s=jQuery(t.target),n=jQuery('#tsf-description-additions-js');s.is(':checked')?n.css('display','inline'):n.css('display','none')},taglineToggleOnload:function(){if(tsf.hasInput){let t=jQuery('#tsf-title-tagline-toggle :input'),s=jQuery('.tsf-custom-blogname-js'),n=jQuery('#tsf-description-additions-toggle :input'),a=jQuery('#tsf-description-additions-js'),o=jQuery('#tsf-description-onblogname-toggle :input'),r=jQuery('#tsf-on-blogname-js'),l=jQuery('#tsf-title-additions-toggle :input'),c=jQuery('.tsf-title-additions-js');t.is(':checked')?s.css('display','inline'):s.css('display','none'),n.is(':checked')?a.css('display','inline'):a.css('display','none'),o.is(':checked')?r.css('display','inline'):r.css('display','none'),l.is(':checked')?c.css('display','none'):c.css('display','inline')}},attachUnsavedChangesListener:function(){if(tsf.hasInput){const t=o=>{jQuery(o.data._input).not(o.data._except).off(o.type,s)},s=o=>{tsf.registerChange(),t(o)};let n,a='.tsf-input-not-saved';n=['.tsf-metaboxes :input','#tsf-inpost-box .inside :input'].join(', '),jQuery(n).not(a).off('change.tsfChangeListener').on('change.tsfChangeListener',{_input:n,_except:a},s),n=['.tsf-metaboxes input[type=text]','.tsf-metaboxes textarea','#tsf-inpost-box .inside input[type=text]','#tsf-inpost-box .inside textarea'].join(', '),jQuery(n).not(a).off('input.tsfChangeListener').on('input.tsfChangeListener',{_input:n,_except:a},s),jQuery(window).off('beforeunload.tsfChangeListener').on('beforeunload.tsfChangeListener',()=>{if(tsf.settingsChanged)return tsf.i18n.saveAlert}),jQuery(['.tsf-metaboxes input[type="submit"]','#publishing-action input[type="submit"]','#save-action input[type="submit"]','a.submitdelete'].join(', ')).off('click.tsfChangeListener').on('click.tsfChangeListener',()=>{tsf.settingsChanged=!1})}},registerChange:function(){tsf.settingsChanged=!0},confirmedReset:function(){return confirm(tsf.i18n.confirmReset)},onLoadUnregisterChange:function(){tsf.settingsChanged=!1},dismissNotice:function(t){jQuery(t.target).parents('.tsf-notice').slideUp(200,function(){this.remove()})},setAjaxLoader:function(t){jQuery(t).toggleClass('tsf-loading')},unsetAjaxLoader:function(t,s){let n='tsf-success',a=2500;s||(n='tsf-error',a=5e3),jQuery(t).removeClass('tsf-loading').addClass(n).fadeOut(a)},resetAjaxLoader:function(t){jQuery(t).stop().empty().prop('class','tsf-ajax').css('opacity','1').removeProp('style')},setColorOnload:function(){let t=jQuery('.tsf-color-picker');t.length&&jQuery.each(t,function(s,n){let a=jQuery(n),o='',r=a.data('tsf-default-color');a.wpColorPicker({defaultColor:r,width:238,change:function(){o=a.wpColorPicker('color'),''==o&&(o=r),a.val(o),tsf.registerChange()},clear:function(){a.parent().siblings('.wp-color-result').css('backgroundColor',r),tsf.registerChange()},palettes:!1})})},_doFlexResizeListener:function(){if(jQuery('.tsf-flex').length){tsf._setResizeListeners();let t=0,s={},n=0,a=jQuery('.tsf-flex-nav-tab-wrapper'),o=jQuery(window);o.on('tsf-flex-resize',function(){clearTimeout(t);let r=0;t=setTimeout(function(){if(a.length){let l=jQuery('.tsf-flex-nav-tab-inner'),c=a.width(),g=l.width(),d=jQuery('.tsf-flex-nav-name');s.tabWrapper||(s.tabWrapper={},s.tabWrapper.outer=0,s.tabWrapper.inner=0,s.tabWrapper.shown=1),!s.tabWrapper.shown&&s.tabWrapper.outer<c&&(d.fadeIn(250),setTimeout(function(){g=l.width()},r)),setTimeout(function(){g>c?(d.hide(),s.tabWrapper.shown=0):s.tabWrapper.outer<c&&(d.fadeIn(250),s.tabWrapper.shown=1)},2*r),setTimeout(function(){s.tabWrapper.outer=c,s.tabWrapper.inner=g},3*r)}},n),r=10,n=75}),o.trigger('tsf-flex-resize')}},_setResizeListeners:function(){jQuery(window).on('resize orientationchange',tsf._triggerResize),jQuery('#collapse-menu').click(tsf._triggerResize),jQuery('.columns-prefs :input[type=radio]').change(tsf._triggerResize),jQuery('.meta-box-sortables').on('sortupdate',tsf._triggerResize)},_triggerResize:function(){jQuery(window).trigger('tsf-flex-resize')},_triggerCounterUpdate:function(){jQuery(window).trigger('tsf-counter-updated')},_triggerReady:function(){jQuery(document.body).trigger('tsf-ready')},_triggerOnLoad:function(){jQuery(document.body).trigger('tsf-onload')},_doReady:function(){tsf._triggerOnLoad(),tsf._initCounters(),tsf._initTitleInputs(),tsf._initUnboundTitleSettings(),tsf._initSocialTitleInputs(),tsf._initDescInputs(),tsf._initSocialDescInputs(),tsf._initWebmastersInput(),tsf.setTabsOnload(),tsf._initPostboxToggle(),tsf.taglineToggleOnload(),tsf.setColorOnload(),tsf.attachUnsavedChangesListener(),tsf.onLoadUnregisterChange(),tsf._doFlexResizeListener(),tsf._triggerReady()},setupVars:function(){tsf.counterType=parseInt(tsf.states.counterType),tsf.hasInput=tsf.states.hasInput},ready:function(t){t('.updated, .error, .notice-error, .notice-warning').insertAfter('.tsf-top-wrap'),tsf.setupVars(),t('.tsf-js-confirm-reset').on('click',tsf.confirmedReset),t('.tsf-tabs-radio').on('change',tsf.tabToggle),t('.tsf-tab').on('click','.tsf-nav-tab',tsf.addNoFocusClass),t('.tsf-flex-nav-tab-radio').on('change',tsf.flexTabToggle),t('.tsf-flex-nav-tab').on('click','.tsf-flex-nav-tab-label',tsf.addNoFocusClass),t('#tsf-description-onblogname-toggle :input').on('click',tsf.taglineToggleDesc),t('#tsf-description-additions-toggle :input').on('click',tsf.additionsToggleDesc),t('.tsf-dismiss').on('click',tsf.dismissNotice),t(document.body).ready(tsf._doReady)}},jQuery(tsf.ready);
