'use strict';window.tsf={nonces:tsfL10n.nonces,i18n:tsfL10n.i18n,states:tsfL10n.states,params:tsfL10n.params,other:tsfL10n.other,settingsChanged:!1,titleSeparator:'',descriptionSeparator:'',counterType:0,hasInput:!1,additionsClass:'',cropper:{},docDescriptions:function(){let a=jQuery('#autodescription_description, #autodescription-meta\\[description\\], #autodescription-site-settings\\[homepage_description\\]');return a},confirm:function(a){return confirm(a)},updateCharacterCountDescription:function(a){let b=a.target.value&&a.target.value.length||0,c=document.getElementById(a.target.id+'_chars'),d=tsf.counterType,f=tsf.additionsClass,g='',j='',k='';0===b&&(b=a.target.placeholder&&a.target.placeholder.length||0),100>b||175<=b?(g='tsf-count-bad',j=tsf.getCounterName('bad')):137>b||155<b&&175>b?(g='tsf-count-okay',j=tsf.getCounterName('okay')):(g='tsf-count-good',j=tsf.getCounterName('good')),2>d?k=b:2==d?k=j:3==d&&(k=b+' - '+j),c.innerHTML=k,f&&(g+=' '+f),c.className!==g&&(c.className=g)},separatorSwitchDesc:function(a){let b=jQuery('#autodescription-descsep-js'),c=jQuery(a.target).val();switch(c){case'pipe':b.text(' | ');break;case'dash':b.text(' - ');break;default:b.html(' &'+c+'; ').text();}},_initTitleInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_title, #autodescription-meta\\[doctitle\\], #autodescription-site-settings\\[homepage_title\\]');if(a.length){const b=function(P){if(!P.length)return'';var Q={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'};return P.replace(/[&<>"']/g,function(R){return Q[R]})},c=function(P){let Q,R=0;return P.length&&(Q=document.createElement('span'),Q.innerHTML=b(P),R=Q.childNodes[0].nodeValue.length),+R};let d,f,g,k,j='',l='',n=tsf.getSep('title'),o=tsf.params.objectTitle,q=tsf.states.useTagline,r=tsf.states.isRTL,s=tsf.states.isPrivate,t=tsf.states.isPasswordProtected;d=r?'after':'before';const u=function(){let P='before';tsf.states.isSettingsPage?r?'right'===jQuery('#tsf-home-title-location input:checked').val()&&(P='after'):'left'===jQuery('#tsf-home-title-location input:checked').val()&&(P='after'):tsf.states.isHome?r?'right'===tsf.params.titleLocation&&(P='after'):'left'===tsf.params.titleLocation&&(P='after'):r?'left'===tsf.params.titleLocation&&(P='after'):'right'===tsf.params.titleLocation&&(P='after'),f=P};u();const v=function(){let P='';if(!tsf.states.isSettingsPage)tsf.states.isHome?q&&(P=tsf.params.blogDescription):q&&(P=tsf.params.titleAdditions);else if(q){let Q=document.getElementById('autodescription-site-settings[homepage_title_tagline]'),R=Q?Q.value:'';P=R.length?R:tsf.params.blogDescription}P.length&&(P=b(P),'before'===f?P=P+' '+n+' ':'after'===f?P=' '+n+' '+P:void 0),l=P.length?P:'',k=document.getElementById('tsf-title-placeholder'),l.length&&k&&(k.innerHTML=l)};v();const x=function(){let P='';s?P=tsf.i18n.privateTitle:t&&(P=tsf.i18n.protectedTitle),P.length&&(P=b(P),'before'===d?P+=' ':'after'===d?P=' '+P:void 0),j=P.length?P:'',j.length&&g&&(g.innerHTML=j),g=document.getElementById('tsf-title-placeholder-prefix'),j.length&&g&&(g.innerHTML=j)};x();const y=function(P){if(k||g){let Q=jQuery(P.target),R=Q.val(),S=!!l.length,T=!!j.length;if(!S&&k&&(k.style.display='none'),!T&&g&&(g.style.display='none'),!S&&!T)return void Q.css('text-indent','initial');if(!R.length)return Q.css('text-indent','initial'),k&&(k.style.display='none'),void(g&&(g.style.display='none'));let U=Q.outerWidth(),V=(Q.outerHeight(!0)-Q.height())/2,W=(U-Q.innerWidth())/2,X=r?'right':'left',Y=(Q.outerWidth(!0)-Q.width())/2,Z={display:Q.css('display'),lineHeight:Q.css('lineHeight'),fontFamily:Q.css('fontFamily'),fontWeight:Q.css('fontWeight'),fontSize:Q.css('fontSize'),letterSpacing:Q.css('letterSpacing'),paddingTop:V+'px',paddingBottom:V+'px'},_=jQuery(g),aa=jQuery(k),ba=0,ca=0,da=0,ea=0,fa=0;if(T&&(_.css(Z),fa=_.width(),ea+=fa,da+=Y),S){let ga=0;switch(function(){let ha=jQuery('#tsf-title-offset');ha.text(R),ha.css({fontFamily:Z.fontFamily,fontWeight:Z.fontWeight,letterSpacing:Z.letterSpacing,fontSize:Z.fontSize}),ga=ha.width()}(),ba=Q.width()-W-ga-fa,ba=0>ba?0:ba,aa.css(Z),f){case'before':let ha=aa.width();0>ha&&(ha=0),ea+=ha,da+=ha,ca+=Y;break;case'after':ca+=Y+ga+fa;}}T&&_.css({[X]:da+'px'}),S&&aa.css({[X]:ca+'px',maxWidth:ba+'px'}),Q.css('text-indent',ea+'px')}},z=function(){let Q='',R=!!l.length,S=!!j.length,T=l,U=j;tsf.states.isTermEdit&&tsf.params.termName&&(U=r?' :'+tsf.params.termName:tsf.params.termName+': ',S=tsf.states.useTermPrefix),Q=o,S&&('before'===d?Q=U+Q:'after'===d?Q+=U:void 0),R&&('before'===f?Q=T+Q:'after'===f?Q+=T:void 0),a.prop('placeholder',Q)},A=function(P){let Q=document.getElementById(P.target.id+'_chars');if(Q){let R=0,S=P.target,T='',U=tsf.additionsClass,V=tsf.counterType,W='',X='';return R=1>S.value.length?c(S.placeholder):(j?c(j):0)+c(S.value)+(l?c(l):0),25>R||75<=R?(T+='tsf-count-bad',W=tsf.getCounterName('bad')):42>R||55<R?(T+='tsf-count-okay',W=tsf.getCounterName('okay')):(T+='tsf-count-good',W=tsf.getCounterName('good')),tsf.additionsClass&&(T+=' '+tsf.additionsClass),V&&1!=V?2==V?X=W:3==V&&(X=R.toString()+' - '+W):X=R.toString(),jQuery(Q).text(X).removeClass().addClass(T)}};a.on('input.tsfUpdateTitles',function(P){console.log('updatedTitles'),y(P),z(),A(P)});a.on('tsf-update-title-counter',function(P){console.log('updatedCounter'),A(P)});const D=function(){a.trigger('tsf-update-title-counter')},E=function(){a.trigger('input.tsfUpdateTitles')};E();const F=function(){v(),E()};jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',F),jQuery('#autodescription-site-settings\\[homepage_tagline\\]').on('change',F);let G=0;const H=function(){clearTimeout(G),G=setTimeout(function(){E()},50)};jQuery(window).on('tsf-counter-updated',H);jQuery('#tsf-title-tagline-toggle :input').on('click',function(P){let Q=q;jQuery(P.target).is(':checked')?(jQuery('.tsf-custom-blogname-js').css('display','inline'),q=!0):(jQuery('.tsf-custom-blogname-js').css('display','none'),q=!1),Q^q&&(v(),H())});jQuery('#visibility .save-post-visibility').on('click',function(){let Q=jQuery('#visibility').find('input:radio:checked').val();switch(s=!1,t=!1,Q){case'password':let R=jQuery('#visibility').find('#post_password').val();t=!!R&&!!R.length;break;case'private':s=!0;break;default:case'public':}x(),H()});jQuery('#tsf-title-separator :input').on('click',function(P){let Q=jQuery('.tsf-sep-js'),R=jQuery(P.target).val();tsf.titleSeparator=R,n=tsf.getSep('title'),Q.text(' '+n+' '),v(),H()});const L=function(){let P=tsf.settingsChanged;E(),tsf.settingsChanged=P};jQuery('#autodescription-homepage-settings > button, #tsf-inpost-box > button').on('click',L),jQuery('#homepage-tab-general').on('tsf-tab-toggled',L);jQuery('#tsf-home-title-location :input').on('click',function(){u(),v(),H()});const N=function(P){let Q=P.target.value;Q=Q.trim(),o=Q.length?Q:tsf.params.untitledTitle,z(),D()};jQuery('#edittag #name').on('input',N),jQuery('#titlewrap #title').on('input',N);(function(){let P=0,Q=window.innerWidth;jQuery(window).resize(function(){clearTimeout(P),P=setTimeout(function(){let R=window.innerWidth;Q<R?782>=Q&&782<=R&&L():782<=Q&&782>=R&&L(),Q=R},50)})})()}}},_initUnboundTitleSettings:function(){if(tsf.hasInput){let a=jQuery('#autodescription_title, #autodescription-meta\\[doctitle\\], #autodescription-site-settings\\[homepage_title\\]');jQuery('#tsf-title-placeholder, #tsf-title-placeholder-prefix').on('click',function(k){let l=jQuery(k.target).siblings(a)[0];if('function'==typeof l.setSelectionRange){l.focus();let n=2*l.value.length;l.setSelectionRange(n,n)}else{let n=l.value;l.value='',l.focus(),l.value=n}});jQuery('#autodescription-site-settings\\[title_rem_additions\\]').on('click',function(k){jQuery(k.target).is(':checked')?jQuery('.tsf-title-additions-js').css('display','none'):jQuery('.tsf-title-additions-js').css('display','inline')});jQuery('#tsf-title-location input').on('click',function(k){let l=jQuery('.tsf-title-additions-example-left'),n=jQuery('.tsf-title-additions-example-right');'right'===jQuery(k.target).val()?(l.css('display','none'),n.css('display','inline')):(l.css('display','inline'),n.css('display','none'))});jQuery('#autodescription-site-settings\\[homepage_title\\]').on('input',function(k){let l=k.target.value||'',n=jQuery('.tsf-custom-title-js');0===l.length?n.text(tsf.params.objectTitle):n.text(l)});jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',function(k){let l=k.target.value||'',n=jQuery('.tsf-custom-tagline-js');0===l.length?(n.text(tsf.params.blogDescription),0===tsf.params.blogDescription.length?jQuery('#tsf-home-title-location .tsf-sep-js').hide():jQuery('#tsf-home-title-location .tsf-sep-js').show()):(n.text(l),jQuery('#tsf-home-title-location .tsf-sep-js').show())}),jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').trigger('input');jQuery('#title-prefixes-toggle :input').on('click',function(k){let l=jQuery(k.target),n=jQuery('.tsf-title-prefix-example');l.is(':checked')?n.css('display','none'):n.css('display','inline')})}},_initToolTips:function(){let a=0,b=!1;const c=function(){b=!0,clearTimeout(a),a=setTimeout(function(){b=!1},250)},d=function(q){if(!b){let r=!1;switch(q.type){case'mouseenter':break;case'pointerdown':case'touchstart':r=!0;break;default:}if(q.target.classList.contains('tsf-seo-bar-item'))r&&c(),j(q),f(q.target,r);else{let s=q.target.querySelector(':hover');s&&jQuery(s).trigger(q.type),r&&c()}return!1}},f=function(q,r,s){r=r||!1,s=s||!1,r||(s?jQuery(q).off('mousemove mouseleave mouseout'):jQuery(q).on({mousemove:k,mouseleave:l,mouseout:l}));let t='pointerdown.tsfTT touchstart.tsfTT click.tsfTT';jQuery(document.body).off(t),s||jQuery(document.body).on(t,n)},g=function(q,r){f(q,r,!0)},j=function(q){let r=jQuery(q.target),s=r.data('desc');if(s&&0===r.find('div').length){r.append('<div class="tsf-explanation-desc">'+s+'<div></div></div>');let t=r.find('div.tsf-explanation-desc').height()+28;r.find('div.tsf-explanation-desc').css('top',r.position().top-t+'px'),k(q)}},k=function(q){let r=jQuery(q.target),s=q.originalEvent&&q.originalEvent.pageX||q.pageX,t=s-r.closest('.tsf-seo-bar-inner-wrap').offset().left-12,u=r.find('.tsf-explanation-desc'),v=u.find('div');if(2>t)v.css('left','2px');else if(void 0!==u.offset()){let x=u.width(),y=u.offset().left+x+12;s>y?v.css('left',x+'px'):v.css('left',t+'px')}},l=function(q){b||(jQuery(q.target).find('.tsf-explanation-desc').remove(),g(q.target))},n=function(q){c();let u,s='.tsf-explanation-desc',t=jQuery(q.target);if(t.hasClass('tsf-seo-bar-item')&&(u=t.find(s)),!u){let v=t.children('.tsf-seo-bar-item');v.length&&(u=v.find(s))}u&&u.length?jQuery(s).not(u).remove():jQuery(s).remove()};(function(){let q=jQuery('.tsf-seo-bar-inner-wrap');q.off('mouseenter pointerdown touchstart'),q.on('mouseenter pointerdown touchstart','.tsf-seo-bar-item',d)})()},tabToggle:function(a){let b=jQuery(a.target);if(b.is(':checked')){let c=b.prop('id'),d=b.prop('name');if('undefined'!=typeof d){let f='tsf-active-tab-content',g=jQuery('#'+c+'-content'),j=jQuery('.'+f);if(!g.is(j)&&'undefined'!=typeof g){let k=jQuery('.'+d+'-content');k.fadeOut(150,function(){jQuery(this).removeClass(f)}),setTimeout(function(){g.addClass(f).fadeIn(250)},150),setTimeout(function(){jQuery('#'+c).trigger('tsf-tab-toggled')},175)}}}},flexTabToggle:function(a){let b=jQuery(a.target);if(b.is(':checked')){let c=b.prop('id'),d=b.prop('name');if('undefined'!=typeof d){let f='tsf-flex-tab-content-active',g=jQuery('#'+c+'-content'),j=jQuery('.'+f);if(!g.is(j)&&'undefined'!=typeof g){let k=jQuery('.'+d+'-content');k.fadeOut(150,function(){jQuery(this).removeClass(f)}),setTimeout(function(){g.addClass(f).fadeIn(250)},150),setTimeout(function(){jQuery('#'+c).trigger('tsf-flex-tab-toggled')},175)}}}},setTabsOnload:function(){if(tsf.hasInput)if(tsf.states.isSettingsPage){let a=jQuery('.tsf-nav-tab-wrapper .tsf-tab:nth-of-type(n+2) input:checked');a.length&&a.each(function(){let c=jQuery(this),d=c.prop('id'),f=c.prop('name');if('undefined'!=typeof f){let g='tsf-active-tab-content',j=jQuery('#'+d+'-content');if('undefined'!=typeof j){let k=jQuery('.'+f+'-content');k.removeClass(g),j.addClass(g),setTimeout(function(){jQuery('#'+d).trigger('tsf-tab-toggled')},20)}}})}else;},taglineToggleDesc:function(a){let b=jQuery(a.target),c=jQuery('#tsf-on-blogname-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},additionsToggleDesc:function(a){let b=jQuery(a.target),c=jQuery('#tsf-description-additions-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},taglineToggleOnload:function(){if(tsf.hasInput){let a=jQuery('#tsf-title-tagline-toggle :input'),b=jQuery('.tsf-custom-blogname-js'),c=jQuery('#tsf-description-additions-toggle :input'),d=jQuery('#tsf-description-additions-js'),f=jQuery('#tsf-description-onblogname-toggle :input'),g=jQuery('#tsf-on-blogname-js'),j=jQuery('#tsf-title-additions-toggle :input'),k=jQuery('.tsf-title-additions-js');a.is(':checked')?b.css('display','inline'):b.css('display','none'),c.is(':checked')?d.css('display','inline'):d.css('display','none'),f.is(':checked')?g.css('display','inline'):g.css('display','none'),j.is(':checked')?k.css('display','none'):k.css('display','inline')}},attachUnsavedChangesListener:function(){if(tsf.hasInput){let a=function(d){tsf.settingsChanged||tsf.registerChange(),jQuery(b).not(c).off(d.type,a)},b='.tsf-metaboxes :input, #tsf-inpost-box .inside :input',c='.tsf-tab :input, .tsf-flex-nav-tab :input';jQuery(b).not(c).on('change',a),b='.tsf-metaboxes input[type=text], .tsf-metaboxes textarea, #tsf-inpost-box .inside input[type=text], #tsf-inpost-box .inside textarea',c='.tsf-nav-tab-wrapper input, .tsf-flex-nav-tab-wrapper input',jQuery(b).not(c).on('input',a),window.onbeforeunload=function(){if(tsf.settingsChanged)return tsf.i18n.saveAlert},jQuery('.tsf-metaboxes input[type="submit"], #publishing-action input[type="submit"], #save-action input[type="submit"], a.submitdelete').click(function(){window.onbeforeunload=null})}},registerChange:function(){tsf.settingsChanged=!0},confirmedReset:function(){return confirm(tsf.i18n.confirmReset)},onLoadUnregisterChange:function(){tsf.settingsChanged=!1},dismissNotice:function(a){jQuery(a.target).parents('.tsf-notice').slideUp(200,function(){this.remove()})},setAjaxLoader:function(a){jQuery(a).toggleClass('tsf-loading')},unsetAjaxLoader:function(a,b){let c='tsf-success',d=2500;b||(c='tsf-error',d=5e3),jQuery(a).removeClass('tsf-loading').addClass(c).fadeOut(d)},resetAjaxLoader:function(a){jQuery(a).stop().empty().prop('class','tsf-ajax').css('opacity','1').removeProp('style')},counterUpdate:function(){++tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),tsf.updateCounterClasses();let b='.tsf-counter .tsf-ajax',c=0;tsf.resetAjaxLoader(b),tsf.setAjaxLoader(b);let d={method:'POST',url:ajaxurl,datatype:'json',data:{action:'the_seo_framework_update_counter',nonce:tsf.nonces.edit_posts,val:tsf.counterType},async:!0,success:function(f){f=jQuery.parseJSON(f),'success'===f.type&&(c=1),tsf.counterUpdatedResponse(b,c)}};jQuery.ajax(d)},counterUpdatedResponse:function(a,b){switch(b){case 0:tsf.unsetAjaxLoader(a,!1);break;case 1:tsf.unsetAjaxLoader(a,!0);break;default:tsf.resetAjaxLoader(a);}},updateCounterClasses:function(){if(tsf.hasInput){let a=tsf.counterType;1==a?(tsf.additionsClass='tsf-counter-one',tsf.counterType=1):2==a?(tsf.additionsClass='tsf-counter-two',tsf.counterType=2):3==a?(tsf.additionsClass='tsf-counter-three',tsf.counterType=3):(tsf.additionsClass='tsf-counter-zero',tsf.counterType=0),tsf._triggerCounterUpdate()}},getCounterName:function(a){return tsf.i18n[a]},getSep:function(a){let b='',c='';return b='title'===a?tsf.titleSeparator:tsf.descriptionSeparator,'pipe'==b||'|'==b?c='|':'dash'==b||'-'==b?c='-':123>b.charCodeAt(0)&&(c=b.trim(),'&'===b.charAt(0)&&';'===b.slice(-1)&&(b=b.substr(1).slice(0,-1)),c=jQuery('<div/>').html('&'+b+';').text()),c},openImageEditor:function(a){if(jQuery(a.target).prop('disabled')||'undefined'==typeof wp.media)return a.preventDefault(),void a.stopPropagation();var d,b=jQuery(a.target),c=b.data('inputid');if(d)return void d.open();a.preventDefault(),a.stopPropagation(),tsf.extendCropper(),d=wp.media({button:{text:tsf.other[c].frame_button,close:!1},states:[new wp.media.controller.Library({title:tsf.other[c].frame_title,library:wp.media.query({type:'image'}),multiple:!1,date:!1,priority:20,suggestedWidth:1200,suggestedHeight:630}),new tsf.cropper({imgSelectOptions:tsf.calculateImageSelectOptions})]});const f=function(){d.setState('cropper')};d.off('select',f),d.on('select',f);const g=function(l){let n=l.url,o=l.id,q=l.width,r=l.height;jQuery('#'+c+'-url').val(n),jQuery('#'+c+'-id').val(o)};d.off('cropped',g),d.on('cropped',g);const j=function(l){let n=l.get('url'),o=l.get('id'),q=l.get('width'),r=l.get('height');jQuery('#'+c+'-url').val(n),jQuery('#'+c+'-id').val(o)};d.off('skippedcrop',j),d.on('skippedcrop',j);const k=function(){jQuery('#'+c+'-select').text(tsf.other[c].change),jQuery('#'+c+'-url').prop('readonly',!0).css('opacity',0).animate({opacity:1},{queue:!0,duration:1000},'swing'),tsf.appendRemoveButton(b,c,!0),tsf.registerChange()};d.off('skippedcrop cropped',k),d.on('skippedcrop cropped',k),d.open()},appendRemoveButton:function(a,b,c){a&&b&&!jQuery('#'+b+'-remove').length&&(a.after('<a href="javascript:void(0)" id="'+b+'-remove" class="tsf-remove-social-image button button-small" data-inputid="'+b+'" title="'+tsf.other[b].remove_title+'">'+tsf.other[b].remove+'</a>'),c&&jQuery('#'+b+'-remove').css('opacity',0).animate({opacity:1},{queue:!0,duration:1000},'swing')),tsf.resetImageEditorActions()},removeEditorImage:function(a){var b=jQuery(a.target),c=b.data('inputid');jQuery('#'+c+'-select').prop('disabled')||(jQuery('#'+c+'-select').addClass('disabled').prop('disabled',!0),jQuery('#'+c+'-remove').addClass('disabled').prop('disabled',!0).fadeOut(500,function(){jQuery(this).remove(),jQuery('#'+c+'-select').text(tsf.other[c].select).removeClass('disabled').removeProp('disabled')}),jQuery('#'+c+'-url').val('').removeProp('readonly').css('opacity',0).animate({opacity:1},{queue:!0,duration:500},'swing'),jQuery('#'+c+'-id').val(''),tsf.registerChange())},extendCropper:function(){if('undefined'==typeof tsf.cropper.control){var a;let b=wp.media.controller;return a=b.Cropper.extend({doCrop:function(c){var d=c.get('cropDetails'),f=tsf.cropper.control;if(f.params.flex_width&&f.params.flex_height)if(d.width===d.height)d.width>f.params.flex_width&&(d.dst_width=d.dst_height=f.params.flex_width);else if(d.width>f.params.flex_width||d.height>f.params.flex_height)if(d.width>d.height){var g=d.width/f.params.flex_width;d.dst_width=f.params.flex_width,d.dst_height=Math.round(d.height/g)}else{var g=d.height/f.params.flex_height;d.dst_height=f.params.flex_height,d.dst_width=Math.round(d.width/g)}return'undefined'==typeof d.dst_width&&(d.dst_width=0,d.dst_height=0),wp.ajax.post('tsf-crop-image',{nonce:tsf.nonces.upload_files,id:c.get('id'),context:'tsf-image',cropDetails:d})}}),a.prototype.control={},a.control={params:{flex_width:4096,flex_height:4096,width:1200,height:630}},void(tsf.cropper=a)}},calculateImageSelectOptions:function(a,b){let c=tsf.cropper.control;var d=!!parseInt(c.params.flex_width,10),f=!!parseInt(c.params.flex_height,10),g=parseInt(c.params.width,10),j=parseInt(c.params.height,10);let r,s,t,k=a.get('width'),l=a.get('height'),n=g/j,o=g,q=j;return b.set('control',c.params),b.set('canSkipCrop',!tsf.mustBeCropped(c.params.flex_width,c.params.flex_height,k,l)),k/l>n?(j=l,g=j*n):(g=k,j=g/n),r=(k-g)/2,s=(l-j)/2,t={handles:!0,keys:!0,instance:!0,persistent:!0,imageWidth:k,imageHeight:l,minWidth:o>g?g:o,minHeight:q>j?j:q,x1:r,y1:s,x2:g+r,y2:j+s},!1==f&&!1==d&&(t.aspectRatio=g+':'+j),!0==f&&(t.minHeight=200,t.maxWidth=k),!0==d&&(t.minWidth=200,t.maxHeight=l),t},mustBeCropped:function(a,b,c,d){return c<=a&&d<=b?!1:!0},resetImageEditorActions:function(){jQuery('.tsf-remove-social-image').off('click',tsf.removeEditorImage),jQuery('.tsf-remove-social-image').on('click',tsf.removeEditorImage)},setupImageEditorActions:function(){jQuery('.tsf-set-social-image').off('click',tsf.openImageEditor),jQuery('.tsf-remove-social-image').off('click',tsf.removeEditorImage),jQuery('.tsf-set-social-image').on('click',tsf.openImageEditor),jQuery('.tsf-remove-social-image').on('click',tsf.removeEditorImage)},checkImageEditorInput:function(){let a=jQuery('.tsf-set-social-image');if(a.length){let b='',c='';jQuery.each(a,function(d,f){b=jQuery(f).data('inputid'),c=jQuery('#'+b+'-id'),c.length&&0<c.val()&&(jQuery('#'+b+'-url').prop('readonly',!0),tsf.appendRemoveButton(jQuery(f),b,!1)),jQuery('#'+b+'-url').val()&&jQuery('#'+b+'-select').text(tsf.other[b].change)})}},setColorOnload:function(){let a=jQuery('.tsf-color-picker');a.length&&jQuery.each(a,function(b,c){let d=jQuery(c),f='',g=d.data('tsf-default-color');d.wpColorPicker({defaultColor:g,width:238,change:function(){f=d.wpColorPicker('color'),''==f&&(f=g),d.val(f),tsf.registerChange()},clear:function(){d.parent().siblings('.wp-color-result').css('backgroundColor',g),tsf.registerChange()},palettes:!1})})},setupVars:function(){tsf.titleSeparator=tsf.params.titleSeparator,tsf.descriptionSeparator=tsf.params.descriptionSeparator,tsf.counterType=parseInt(tsf.states.counterType),tsf.hasInput=tsf.states.hasInput},_doFlexResizeListener:function(){if(jQuery('.tsf-flex').length){tsf._setResizeListeners();var a=0,b={},c=0,d=jQuery('.tsf-flex-nav-tab-wrapper');jQuery(window).on('tsf-flex-resize',function(){clearTimeout(a);let f=0;a=setTimeout(function(){if(d.length){let g=jQuery('.tsf-flex-nav-tab-inner'),j=d.width(),k=g.width(),l=jQuery('.tsf-flex-nav-name');b.tabWrapper||(b.tabWrapper={},b.tabWrapper.outer=0,b.tabWrapper.inner=0,b.tabWrapper.shown=1),!b.tabWrapper.shown&&b.tabWrapper.outer<j&&(l.fadeIn(250),setTimeout(function(){k=g.width()},f)),setTimeout(function(){k>j?(l.hide(),b.tabWrapper.shown=0):b.tabWrapper.outer<j&&(l.fadeIn(250),b.tabWrapper.shown=1)},2*f),setTimeout(function(){b.tabWrapper.outer=j,b.tabWrapper.inner=k},3*f)}},c),f=10,c=75}),jQuery(window).trigger('tsf-flex-resize')}},_setResizeListeners:function(){jQuery(window).on('resize orientationchange',tsf._triggerResize),jQuery('#collapse-menu').click(tsf._triggerResize),jQuery('.columns-prefs :input[type=radio]').change(tsf._triggerResize),jQuery('.meta-box-sortables').on('sortupdate',tsf._triggerResize)},_triggerResize:function(){jQuery(window).trigger('tsf-flex-resize')},_triggerCounterUpdate:function(){jQuery(window).trigger('tsf-counter-updated')},_triggerReady:function(){jQuery(document.body).trigger('tsf-ready')},_doReady:function(){tsf._initTitleInputs(),tsf._initUnboundTitleSettings(),tsf.setTabsOnload(),tsf.updateCounterClasses(),tsf.taglineToggleOnload(),tsf._initToolTips(),tsf.setupImageEditorActions(),tsf.checkImageEditorInput(),tsf.setColorOnload(),tsf.attachUnsavedChangesListener(),tsf.onLoadUnregisterChange(),tsf._triggerReady(),tsf._doFlexResizeListener()},ready:function(a){tsf.setupVars(),a('div.updated, div.error, div.notice-warning').insertAfter('div.tsf-top-wrap'),a(document.body).ready(tsf._doReady),tsf.docDescriptions().on('input',tsf.updateCharacterCountDescription),a(window).on('tsf-counter-updated',function(){tsf.docDescriptions().trigger('input')}),a('#tsf-description-separator input').on('click',tsf.separatorSwitchDesc),a('.tsf-js-confirm-reset').on('click',tsf.confirmedReset),a('.tsf-tabs-radio').on('change',tsf.tabToggle),a('.tsf-flex-nav-tab-radio').on('change',tsf.flexTabToggle),a('#tsf-description-onblogname-toggle :input').on('click',tsf.taglineToggleDesc),a('#tsf-description-additions-toggle :input').on('click',tsf.additionsToggleDesc),a('.tsf-dismiss').on('click',tsf.dismissNotice),a('.tsf-counter').on('click',tsf.counterUpdate)}},jQuery(tsf.ready);
