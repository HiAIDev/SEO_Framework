'use strict';window.tsf={nonces:tsfL10n.nonces,i18n:tsfL10n.i18n,states:tsfL10n.states,params:tsfL10n.params,settingsChanged:!1,counterType:0,hasInput:!1,additionsClass:'',confirm:function(a){return confirm(a)},escapeString:function(a){if(!a.length)return'';let b={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'};return a.replace(/[&<>"']/g,c=>{return b[c]})},unescapeString:function(a){if(!a.length)return'';let b={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'},c=Object.keys(b).map(f=>b[f]),d=new RegExp(c.map(f=>{return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&')}).join('|'),'g');return a.replace(d,f=>{return Object.keys(b).find(g=>{return b[g]===f})})},getStringLength:function(a){let b,c=0;return a.length&&(b=document.createElement('span'),b.innerHTML=tsf.escapeString(a),c=b.childNodes[0].nodeValue.length),+c},updatePixelCounter:function(a){let b=a.e,c=a.text,d=a.guideline,f=b.parentElement;if(f){let g=f.querySelector('.tsf-pixel-counter-bar'),h=f.querySelector('.tsf-pixel-counter-shadow');if(g&&h){h.innerHTML=tsf.escapeString(c);let j=h.offsetWidth,l='',n='',o='tsf-pixel-counter-fit',q='tsf-pixel-counter-overflown';j>d?(n=100*(d/(j+2*(j-d)/3))+'%',l=q):(n=100*(j/d)+'%',l=o);let s,r=g.querySelector('.tsf-pixel-counter-fluid');s=tsf.i18n.pixelsUsed.replace(/%1\$d/g,j),s=s.replace(/%2\$d/g,d),g.classList.remove(o,q),g.classList.add(l),g.dataset.desc=s,g.setAttribute('aria-label',s),r.style.width=n,tsfTT.triggerUpdate(g)}}},_initTitleInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_title, #autodescription-meta\\[doctitle\\], #autodescription-site-settings\\[homepage_title\\]');if(a.length){let d,f,g,j,b=!1,c=!!navigator.userAgent.match(/Trident\/7\./),h='',l='',n=tsf.params.titleSeparator,o=tsf.params.defaultTitle,q=tsf.states.useTagline,r=tsf.states.isRTL,s=tsf.states.isPrivate,t=tsf.states.isPasswordProtected;d=r?'after':'before';const u=function(){let V='before';tsf.states.isSettingsPage?r?'right'===jQuery('#tsf-home-title-location input:checked').val()&&(V='after'):'left'===jQuery('#tsf-home-title-location input:checked').val()&&(V='after'):tsf.states.isHome?r?'right'===tsf.params.titleLocation&&(V='after'):'left'===tsf.params.titleLocation&&(V='after'):r?'left'===tsf.params.titleLocation&&(V='after'):'right'===tsf.params.titleLocation&&(V='after'),f=V};u();const w=function(){let V='';if(!tsf.states.isSettingsPage)tsf.states.isHome?q&&(V=tsf.params.titleAdditions):q&&(V=tsf.params.titleAdditions);else if(q){let W=document.getElementById('autodescription-site-settings[homepage_title_tagline]'),X=W?W.value:'';V=X.length?X:tsf.params.blogDescription}V.length&&(V=tsf.escapeString(V),'before'===f?V=V+' '+n+' ':'after'===f?V=' '+n+' '+V:void 0),l=V.length?V:'',j=document.getElementById('tsf-title-placeholder'),l.length&&j&&(j.innerHTML=l)};w();const x=function(){let V='';s?V=tsf.i18n.privateTitle:t&&(V=tsf.i18n.protectedTitle),V.length&&(V=tsf.escapeString(V),'before'===d?V+=' ':'after'===d?V=' '+V:void 0),h=V.length?V:'',h.length&&g&&(g.innerHTML=h),g=document.getElementById('tsf-title-placeholder-prefix'),h.length&&g&&(g.innerHTML=h)};x();const y=function(V){if(j||g){let W=jQuery(V.target),X=W.val(),Y=!!l.length,Z=!!h.length;if(!Y&&j&&(j.style.display='none'),!Z&&g&&(g.style.display='none'),!Y&&!Z)return void W.css('text-indent','initial');if(!X.length)return W.css('text-indent','initial'),j&&(j.style.display='none'),void(g&&(g.style.display='none'));let _=W.outerWidth(!0),aa=(W.outerHeight(!0)-W.height())/2,ba=(_-W.innerWidth())/2,ca=r?'right':'left',da=(W.outerWidth(!0)-W.width())/2,ea={display:W.css('display'),lineHeight:W.css('lineHeight'),fontFamily:W.css('fontFamily'),fontWeight:W.css('fontWeight'),fontSize:W.css('fontSize'),letterSpacing:W.css('letterSpacing'),paddingTop:aa+'px',paddingBottom:aa+'px'},fa=jQuery(g),ga=jQuery(j),ha=0,ia=0,ja=0,ka=0,la=0,ma=0;if(Z&&(fa.css(ea),fa.css({maxWidth:'initial'}),la=fa[0].getBoundingClientRect().width,la<ma&&(la=0)),Y){let oa=0;switch(function(){let pa=jQuery('#tsf-title-offset');pa.text(X),pa.css({fontFamily:ea.fontFamily,fontWeight:ea.fontWeight,letterSpacing:ea.letterSpacing,fontSize:ea.fontSize}),oa=pa[0].getBoundingClientRect().width}(),ha=W[0].getBoundingClientRect().width-ba-da-oa-la,ha<ma&&(la+=ha,ha=0),ga.css(ea),ga.css({maxWidth:'initial'}),f){case'before':let pa=ga[0].getBoundingClientRect().width;pa=ha<pa?ha:pa,pa<ma&&(pa=0),ha=pa,ka+=ha,ja+=ha,ia+=da;break;case'after':ia+=da+oa+la;}}ja+=da,la=0>la?0:la,ka+=la;let na;Z&&(na={},na[ca]=ja+'px',na.maxWidth=la+'px',fa.css(na)),Y&&(na={},na[ca]=ia+'px',na.maxWidth=ha+'px',ga.css(na)),na={},na['text-indent']=ka+'px',W.css(na)}},z=function(){let W='',X=!!l.length,Y=!!h.length,Z=l,_=h;tsf.states.isTermEdit&&tsf.params.termName&&(_=r?' :'+tsf.params.termName:tsf.params.termName+': ',Y=tsf.states.useTermPrefix),W=o,Y&&('before'===d?W=_+W:'after'===d?W+=_:void 0),X&&('before'===f?W=Z+W:'after'===f?W+=Z:void 0),c&&(b=!0);let aa=document.createElement('span');aa.innerHTML=W,a.prop('placeholder',aa.textContent),c&&setTimeout(function(){b=!1},0)},A=function(V){let W=document.getElementById('tsf-title-reference'),X='';W&&(1>V.target.value.length?X=V.target.placeholder:(X=V.target.value,h.length&&('before'===d?X=h+X:'after'===d?X+=h:void 0),l.length&&('before'===f?X=l+X:'after'===f?X+=l:void 0)),W.innerHTML=tsf.escapeString(X),setTimeout(()=>{jQuery(W).change()},0))},B=function(V){let W=document.getElementById(V.target.id+'_chars'),X=document.getElementById('tsf-title-reference');if(W&&X){let Y=tsf.getStringLength(tsf.unescapeString(X.innerHTML)),Z=V.target,_='',aa=tsf.counterType,ba='',ca='';25>Y||75<=Y?(_+='tsf-count-bad',ba=tsf.i18n.bad):42>Y||55<Y?(_+='tsf-count-okay',ba=tsf.i18n.okay):(_+='tsf-count-good',ba=tsf.i18n.good),aa&&1!=aa?2==aa?ca=ba:3==aa&&(ca=Y.toString()+' - '+ba):ca=Y.toString(),W.innerHTML=ca,tsf.additionsClass&&(_+=' '+tsf.additionsClass),W.className!==_&&(W.className=_)}},C=function(V){let W=document.getElementById(V.target.id+'_pixels'),X=document.getElementById('tsf-title-reference');if(W&&X){let Y={e:W,text:tsf.unescapeString(X.innerHTML),guideline:tsf.params.titlePixelGuideline};tsf.updatePixelCounter(Y)}};a.on('input.tsfUpdateTitles',function(V){return!b&&void(y(V),z(),A(V),B(V),C(V))});a.on('tsf-update-title-counter',function(V){A(V),B(V),C(V)});const F=function(){a.trigger('tsf-update-title-counter')},G=function(){a.trigger('input.tsfUpdateTitles')};G();const H=function(){w(),G()};jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',H),jQuery('#autodescription-site-settings\\[homepage_tagline\\]').on('change',H);let I=0;const J=function(){clearTimeout(I),I=setTimeout(function(){G()},50)};jQuery(window).on('tsf-counter-updated',J);jQuery('#tsf-title-tagline-toggle :input').on('click',function(V){let W=q;jQuery(V.target).is(':checked')?(jQuery('.tsf-custom-blogname-js').css('display','inline'),q=!0):(jQuery('.tsf-custom-blogname-js').css('display','none'),q=!1),W^q&&(w(),J())});jQuery('#visibility .save-post-visibility').on('click',function(){let W=jQuery('#visibility').find('input:radio:checked').val();switch(s=!1,t=!1,W){case'password':let X=jQuery('#visibility').find('#post_password').val();t=!!X&&!!X.length;break;case'private':s=!0;break;default:case'public':}x(),J()});jQuery('#tsf-title-separator :input').on('click',function(V){let W=jQuery(V.target).val(),X='';X='pipe'===W?'|':'dash'===W?'-':jQuery('<div/>').html('&'+W+';').text(),n=X,jQuery('.tsf-sep-js').text(' '+n+' '),w(),J()});const N=function(){let V=tsf.settingsChanged;G(!0),tsf.settingsChanged=V};jQuery('#homepage-tab-general').on('tsf-tab-toggled',N),jQuery('#tsf-flex-inpost-tab-general').on('tsf-flex-tab-toggled',N);let O=0;const P=function(){clearTimeout(O),O=setTimeout(N,50)};jQuery(window).one('tsf-ready',function(){jQuery(window).on('tsf-flex-resize',P)});let Q=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(V,W){if(0<=Q.indexOf(W.id)){let X=W.querySelector('.inside');0<X.offsetHeight&&0<X.offsetWidth&&N()}});jQuery('#tsf-home-title-location :input').on('click',function(){u(),w(),J()});tsf.states.isHome||jQuery('#edittag #name, #titlewrap #title').on('input',function(V){let W=V.target.value;W=W.trim(),o=W.length?tsf.escapeString(W):tsf.params.untitledTitle,z(),F()});(function(){let V=0,W=window.innerWidth;window.addEventListener('resize',function(){clearTimeout(V),V=setTimeout(function(){let X=window.innerWidth;W<X?782>=W&&782<=X&&N():782<=W&&782>=X&&N(),W=X},50)})})()}}},_initUnboundTitleSettings:function(){if(tsf.hasInput){let a=jQuery('#autodescription_title, #autodescription-meta\\[doctitle\\], #autodescription-site-settings\\[homepage_title\\]');jQuery('#tsf-title-placeholder, #tsf-title-placeholder-prefix').on('click',function(j){let l=jQuery(j.target).siblings(a)[0];if('function'==typeof l.setSelectionRange){l.focus();let n=2*l.value.length;l.setSelectionRange(n,n)}else{let n=l.value;l.value='',l.focus(),l.value=n}});jQuery('#autodescription-site-settings\\[title_rem_additions\\]').on('click',function(j){jQuery(j.target).is(':checked')?jQuery('.tsf-title-additions-js').css('display','none'):jQuery('.tsf-title-additions-js').css('display','inline')});jQuery('#tsf-title-location input').on('click',function(j){let l=jQuery('.tsf-title-additions-example-left'),n=jQuery('.tsf-title-additions-example-right');'right'===jQuery(j.target).val()?(l.css('display','none'),n.css('display','inline')):(l.css('display','inline'),n.css('display','none'))});jQuery('#autodescription-site-settings\\[homepage_title\\]').on('input',function(j){let l=j.target.value||'',n=jQuery('.tsf-custom-title-js');0===l.length?n.text(tsf.params.defaultTitle):n.text(l)});jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input.tsfInputTagline',function(j){let l=j.target.value||'',n=jQuery('.tsf-custom-tagline-js');0===l.length?(n.text(tsf.params.blogDescription),0===tsf.params.blogDescription.length?jQuery('#tsf-home-title-location .tsf-sep-js').hide():jQuery('#tsf-home-title-location .tsf-sep-js').show()):(n.text(l),jQuery('#tsf-home-title-location .tsf-sep-js').show())}),jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').trigger('input.tsfInputTagline');jQuery('#title-prefixes-toggle :input').on('click',function(j){let l=jQuery(j.target),n=jQuery('.tsf-title-prefix-example');l.is(':checked')?n.css('display','none'):n.css('display','inline')})}},_initDescInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_description, #autodescription-meta\\[description\\], #autodescription-site-settings\\[homepage_description\\]');if(a.length){let b=tsf.params.descriptionSeparator;jQuery('#tsf-description-separator input').on('click',function(s){let t=jQuery(s.target).val(),u='';u='pipe'===t?'|':'dash'===t?'-':jQuery('<div/>').html('&'+t+';').text(),b=u,jQuery('#autodescription-descsep-js').text(' '+b+' '),n()});const d=function(s){let t=document.getElementById(s.target.id+'_chars');if(t){let u=0,w=s.target,x='',y=tsf.counterType,z='',A='';u=1>w.value.length?tsf.getStringLength(w.placeholder):tsf.getStringLength(w.value),100>u||330<=u?(x+='tsf-count-bad',z=tsf.i18n.bad):137>u||300<u?(x+='tsf-count-okay',z=tsf.i18n.okay):(x+='tsf-count-good',z=tsf.i18n.good),y&&1!=y?2==y?A=z:3==y&&(A=u.toString()+' - '+z):A=u.toString(),t.innerHTML=A,tsf.additionsClass&&(x+=' '+tsf.additionsClass),t.className!==x&&(t.className=x)}},f=function(s){let t=document.getElementById('tsf-description-reference'),u='';t&&(u=1>s.target.value.length?s.target.placeholder:s.target.value,t.innerHTML=tsf.escapeString(u),setTimeout(()=>{jQuery(t).change()},0))},g=function(s){let t=document.getElementById(s.target.id+'_pixels'),u=document.getElementById('tsf-description-reference');if(t&&u){let w={e:t,text:tsf.unescapeString(u.innerHTML),guideline:tsf.params.descPixelGuideline};tsf.updatePixelCounter(w)}};a.on('input.tsfUpdateDescriptions',function(s){f(s),d(s),g(s)});const j=function(){a.trigger('input.tsfUpdateDescriptions')};j();let l=0;const n=function(){clearTimeout(l),l=setTimeout(function(){j()},50)};jQuery(window).on('tsf-counter-updated',n);let q=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(s,t){if(0<=q.indexOf(t.id)){let u=t.querySelector('.inside');0<u.offsetHeight&&0<u.offsetWidth&&n()}})}}},_initSocialTitleInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_og_title'),b=jQuery('#autodescription_twitter_title'),c=jQuery('#tsf-title-reference');if(a.length&&b.length&&c.length){let d=!1,f=!!navigator.userAgent.match(/Trident\/7\./),g=tsf.escapeString(a.val()),h=tsf.escapeString(b.val()),j=c.text();const l=s=>{let t='';switch(s){case'twitter':t=h;case'og':t=t.length?t:g;case'reference':t=t.length?t:j;}return t},n=()=>{f&&(d=!0),a.attr('placeholder',l('reference')),b.attr('placeholder',l('og')),f&&setTimeout(function(){d=!1},0)},o=(s,t,u)=>{s&&t&&u?tsf.updateSocialCounter(s,t,u):(a.each((w,x)=>o(x,l('og'),88)),b.each((w,x)=>o(x,l('twitter'),70)))};c.on('change',()=>{j=c.text(),n(),o()});a.on('input.tsfUpdateOgTitle',s=>{d||(g=s.target.value.length?tsf.escapeString(s.target.value):'',n(),o())}),b.on('input.tsfUpdateOgTitle',s=>{d||(h=s.target.value.length?tsf.escapeString(s.target.value):'',n(),o())})}}},_initSocialDescInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_og_description'),b=jQuery('#autodescription_twitter_description'),c=jQuery('#tsf-description-reference');if(a.length&&b.length&&c.length){let d=!1,f=!!navigator.userAgent.match(/Trident\/7\./),g=tsf.escapeString(a.val()),h=tsf.escapeString(b.val()),j=c.text();const l=s=>{let t='';switch(s){case'twitter':t=h;case'og':t=t.length?t:g;case'reference':t=t.length?t:j;}return t},n=()=>{f&&(d=!0),a.attr('placeholder',l('reference')),b.attr('placeholder',l('og')),f&&setTimeout(function(){d=!1},0)},o=(s,t,u)=>{s&&t&&u?tsf.updateSocialCounter(s,t,u):(a.each((w,x)=>o(x,l('og'),300)),b.each((w,x)=>o(x,l('twitter'),200)))};c.on('change',()=>{j=c.text(),n(),o()});a.on('input.tsfUpdateOgDesc',s=>{d||(g=s.target.value.length?tsf.escapeString(s.target.value):'',n(),o())}),b.on('input.tsfUpdateOgDesc',s=>{d||(h=s.target.value.length?tsf.escapeString(s.target.value):'',n(),o())})}}},updateSocialCounter:function(a,b,c){let d=document.getElementById(a.id+'_chars');if(d){let f=tsf.getStringLength(tsf.unescapeString(b)),g='',h=tsf.counterType,j='',l='';f>c?(g+='tsf-count-bad',j=tsf.i18n.bad):(g+='tsf-count-good',j=tsf.i18n.good),h&&1!=h?2==h?l=j:3==h&&(l=f.toString()+' - '+j):l=f.toString(),d.innerHTML=l,tsf.additionsClass&&(g+=' '+tsf.additionsClass),d.className!==g&&(d.className=g)}},_initCounters:function(){if(tsf.hasInput){jQuery('.tsf-counter').on('click',function(){++tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),b();let g='.tsf-counter-wrap .tsf-ajax',h=0;tsf.resetAjaxLoader(g),tsf.setAjaxLoader(g);let j={method:'POST',url:ajaxurl,datatype:'json',data:{action:'the_seo_framework_update_counter',nonce:tsf.nonces.edit_posts,val:tsf.counterType},async:!0,success:function(l){switch(l=jQuery.parseJSON(l),'success'===l.type&&(h=1),h){case 0:tsf.unsetAjaxLoader(g,!1);break;case 1:tsf.unsetAjaxLoader(g,!0);break;default:tsf.resetAjaxLoader(g);}}};jQuery.ajax(j)});const b=function(){let f=tsf.counterType;1==f?(tsf.additionsClass='tsf-counter-one',tsf.counterType=1):2==f?(tsf.additionsClass='tsf-counter-two',tsf.counterType=2):3==f?(tsf.additionsClass='tsf-counter-three',tsf.counterType=3):(tsf.additionsClass='tsf-counter-zero',tsf.counterType=0),tsf._triggerCounterUpdate()};b();jQuery('#autodescription-site-settings\\[display_character_counter\\]').on('click',function(f){jQuery(f.target).is(':checked')?jQuery('.tsf-counter-wrap').show():jQuery('.tsf-counter-wrap').hide()});jQuery('#autodescription-site-settings\\[display_pixel_counter\\]').on('click',function(f){jQuery(f.target).is(':checked')?(jQuery('.tsf-pixel-counter-wrap').show(),tsf._triggerCounterUpdate()):jQuery('.tsf-pixel-counter-wrap').hide()})}},tabToggle:function(a){let b=jQuery(a.target);if(b.is(':checked')){let c=b.prop('id'),d=b.prop('name');if('undefined'!=typeof d){let f='tsf-active-tab-content',g=jQuery('#'+c+'-content'),h=jQuery('.'+f);if(!g.is(h)&&'undefined'!=typeof g){let j=jQuery('.'+d+'-content');j.fadeOut(150,function(){jQuery(this).removeClass(f)}),setTimeout(function(){g.addClass(f).fadeIn(250)},150),setTimeout(function(){jQuery('#'+c).trigger('tsf-tab-toggled')},175)}}}},flexTabToggle:function(a){let b=jQuery(a.target);if(b.is(':checked')){let c=b.prop('id'),d=b.prop('name');if('undefined'!=typeof d){let f='tsf-flex-tab-content-active',g=jQuery('#'+c+'-content'),h=jQuery('.'+f);if(!g.is(h)&&'undefined'!=typeof g){let j=jQuery('.'+d+'-content');j.fadeOut(150,function(){jQuery(this).removeClass(f)}),setTimeout(function(){g.addClass(f).fadeIn(250)},150),setTimeout(function(){jQuery('#'+c).trigger('tsf-flex-tab-toggled')},175)}}}},setTabsOnload:function(){if(tsf.hasInput)if(tsf.states.isPostEdit&&jQuery('.tsf-flex-nav-tab-radio').trigger('change'),tsf.states.isSettingsPage){let a=jQuery('.tsf-nav-tab-wrapper .tsf-tab:nth-of-type(n+2) input:checked');a.length&&a.each(function(){let c=jQuery(this),d=c.prop('id'),f=c.prop('name');if('undefined'!=typeof f){let g='tsf-active-tab-content',h=jQuery('#'+d+'-content');if('undefined'!=typeof h){let j=jQuery('.'+f+'-content');j.removeClass(g),h.addClass(g),setTimeout(function(){jQuery('#'+d).trigger('tsf-tab-toggled')},20)}}})}else;},taglineToggleDesc:function(a){let b=jQuery(a.target),c=jQuery('#tsf-on-blogname-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},additionsToggleDesc:function(a){let b=jQuery(a.target),c=jQuery('#tsf-description-additions-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},taglineToggleOnload:function(){if(tsf.hasInput){let a=jQuery('#tsf-title-tagline-toggle :input'),b=jQuery('.tsf-custom-blogname-js'),c=jQuery('#tsf-description-additions-toggle :input'),d=jQuery('#tsf-description-additions-js'),f=jQuery('#tsf-description-onblogname-toggle :input'),g=jQuery('#tsf-on-blogname-js'),h=jQuery('#tsf-title-additions-toggle :input'),j=jQuery('.tsf-title-additions-js');a.is(':checked')?b.css('display','inline'):b.css('display','none'),c.is(':checked')?d.css('display','inline'):d.css('display','none'),f.is(':checked')?g.css('display','inline'):g.css('display','none'),h.is(':checked')?j.css('display','none'):j.css('display','inline')}},attachUnsavedChangesListener:function(){if(tsf.hasInput){let a=function(d){tsf.settingsChanged||tsf.registerChange(),jQuery(b).not(c).off(d.type,a)},b='.tsf-metaboxes :input, #tsf-inpost-box .inside :input',c='.tsf-tab :input, .tsf-flex-nav-tab :input';jQuery(b).not(c).on('change',a),b='.tsf-metaboxes input[type=text], .tsf-metaboxes textarea, #tsf-inpost-box .inside input[type=text], #tsf-inpost-box .inside textarea',c='.tsf-nav-tab-wrapper input, .tsf-flex-nav-tab-wrapper input',jQuery(b).not(c).on('input',a),window.onbeforeunload=function(){if(tsf.settingsChanged)return tsf.i18n.saveAlert},jQuery('.tsf-metaboxes input[type="submit"], #publishing-action input[type="submit"], #save-action input[type="submit"], a.submitdelete').click(function(){window.onbeforeunload=null})}},registerChange:function(){tsf.settingsChanged=!0},confirmedReset:function(){return confirm(tsf.i18n.confirmReset)},onLoadUnregisterChange:function(){tsf.settingsChanged=!1},dismissNotice:function(a){jQuery(a.target).parents('.tsf-notice').slideUp(200,function(){this.remove()})},setAjaxLoader:function(a){jQuery(a).toggleClass('tsf-loading')},unsetAjaxLoader:function(a,b){let c='tsf-success',d=2500;b||(c='tsf-error',d=5e3),jQuery(a).removeClass('tsf-loading').addClass(c).fadeOut(d)},resetAjaxLoader:function(a){jQuery(a).stop().empty().prop('class','tsf-ajax').css('opacity','1').removeProp('style')},setColorOnload:function(){let a=jQuery('.tsf-color-picker');a.length&&jQuery.each(a,function(b,c){let d=jQuery(c),f='',g=d.data('tsf-default-color');d.wpColorPicker({defaultColor:g,width:238,change:function(){f=d.wpColorPicker('color'),''==f&&(f=g),d.val(f),tsf.registerChange()},clear:function(){d.parent().siblings('.wp-color-result').css('backgroundColor',g),tsf.registerChange()},palettes:!1})})},_doFlexResizeListener:function(){if(jQuery('.tsf-flex').length){tsf._setResizeListeners();let a=0,b={},c=0,d=jQuery('.tsf-flex-nav-tab-wrapper'),f=jQuery(window);f.on('tsf-flex-resize',function(){clearTimeout(a);let g=0;a=setTimeout(function(){if(d.length){let h=jQuery('.tsf-flex-nav-tab-inner'),j=d.width(),l=h.width(),n=jQuery('.tsf-flex-nav-name');b.tabWrapper||(b.tabWrapper={},b.tabWrapper.outer=0,b.tabWrapper.inner=0,b.tabWrapper.shown=1),!b.tabWrapper.shown&&b.tabWrapper.outer<j&&(n.fadeIn(250),setTimeout(function(){l=h.width()},g)),setTimeout(function(){l>j?(n.hide(),b.tabWrapper.shown=0):b.tabWrapper.outer<j&&(n.fadeIn(250),b.tabWrapper.shown=1)},2*g),setTimeout(function(){b.tabWrapper.outer=j,b.tabWrapper.inner=l},3*g)}},c),g=10,c=75}),f.trigger('tsf-flex-resize')}},_setResizeListeners:function(){jQuery(window).on('resize orientationchange',tsf._triggerResize),jQuery('#collapse-menu').click(tsf._triggerResize),jQuery('.columns-prefs :input[type=radio]').change(tsf._triggerResize),jQuery('.meta-box-sortables').on('sortupdate',tsf._triggerResize)},_triggerResize:function(){jQuery(window).trigger('tsf-flex-resize')},_triggerCounterUpdate:function(){jQuery(window).trigger('tsf-counter-updated')},_triggerReady:function(){jQuery(document.body).trigger('tsf-ready')},_triggerOnLoad:function(){jQuery(document.body).trigger('tsf-onload')},_doReady:function(){tsf._triggerOnLoad(),tsf._initCounters(),tsf._initTitleInputs(),tsf._initUnboundTitleSettings(),tsf._initSocialTitleInputs(),tsf._initDescInputs(),tsf._initSocialDescInputs(),tsf.setTabsOnload(),tsf.taglineToggleOnload(),tsf.setColorOnload(),tsf.attachUnsavedChangesListener(),tsf.onLoadUnregisterChange(),tsf._doFlexResizeListener(),tsf._triggerReady()},setupVars:function(){tsf.counterType=parseInt(tsf.states.counterType),tsf.hasInput=tsf.states.hasInput},ready:function(a){tsf.setupVars(),a('div.updated, div.error, div.notice-warning').insertAfter('div.tsf-top-wrap'),a(document.body).ready(tsf._doReady),a('.tsf-js-confirm-reset').on('click',tsf.confirmedReset),a('.tsf-tabs-radio').on('change',tsf.tabToggle),a('.tsf-flex-nav-tab-radio').on('change',tsf.flexTabToggle),a('#tsf-description-onblogname-toggle :input').on('click',tsf.taglineToggleDesc),a('#tsf-description-additions-toggle :input').on('click',tsf.additionsToggleDesc),a('.tsf-dismiss').on('click',tsf.dismissNotice)}},jQuery(tsf.ready);
