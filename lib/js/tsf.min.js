'use strict';window.tsf={nonces:tsfL10n.nonces,i18n:tsfL10n.i18n,states:tsfL10n.states,params:tsfL10n.params,settingsChanged:!1,counterType:0,hasInput:!1,additionsClass:'',confirm:function(a){return confirm(a)},stripTags:function(a){return a.replace(/(<([^>]+)?>?)/ig,'')},escapeString:function(a){if(!a.length)return'';let b={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'};return a.replace(/[&<>"']/g,c=>b[c])},unescapeString:function(a){if(!a.length)return'';let b={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'},c=Object.keys(b).map(f=>b[f]),d=new RegExp(c.map(f=>f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&')).join('|'),'g');return a.replace(d,f=>Object.keys(b).find(g=>b[g]===f))},sDoubleSpace:function(a){return a.replace(/\s\s+/g,' ')},getStringLength:function(a){let b,c=0;return a.length&&(b=document.createElement('span'),b.innerHTML=tsf.escapeString(a),c=b.childNodes[0].nodeValue.length),+c},convertJSONResponse:function(a){let b=a&&a.json||void 0,c=1===b;if(!c){let d=a;try{a=JSON.parse(a),c=!0}catch(f){c=!1}c||(a=d)}return a},updatePixelCounter:function(a){let b=a.e,c=a.text,d=a.guideline,f=b.parentElement;if(f){let g=f.querySelector('.tsf-pixel-counter-bar'),h=f.querySelector('.tsf-pixel-counter-shadow');if(g&&h){h.innerHTML=tsf.escapeString(c);let j=h.offsetWidth,l='',n='',o='tsf-pixel-counter-fit',q='tsf-pixel-counter-overflown';j>d?(n=100*(d/(j+2*(j-d)/3))+'%',l=q):(n=100*(j/d)+'%',l=o);let s,r=g.querySelector('.tsf-pixel-counter-fluid');s=tsf.i18n.pixelsUsed.replace(/%1\$d/g,j),s=s.replace(/%2\$d/g,d),g.classList.remove(o,q),g.classList.add(l),g.dataset.desc=s,g.setAttribute('aria-label',s),r.style.width=n,tsfTT.triggerUpdate(g)}}},_initTitleInputs:function(){if(tsf.hasInput){let a=jQuery(['#autodescription_title','#autodescription-meta\\[doctitle\\]','#autodescription-site-settings\\[homepage_title\\]'].join(', '));if(a.length){let d,f,g,j,b=!1,c=!!navigator.userAgent.match(/Trident\/7\./),h='',l='',n=tsf.params.titleSeparator,o=tsf.params.defaultTitle,q=tsf.states.useTagline,r=tsf.states.isRTL,s=tsf.states.isPrivate,t=tsf.states.isPasswordProtected,u=tsf.states.stripTitleTags;d=r?'after':'before';const w=function(){let W='before';tsf.states.isSettingsPage?r?'right'===jQuery('#tsf-home-title-location input:checked').val()&&(W='after'):'left'===jQuery('#tsf-home-title-location input:checked').val()&&(W='after'):tsf.states.isHome?r?'right'===tsf.params.titleLocation&&(W='after'):'left'===tsf.params.titleLocation&&(W='after'):r?'left'===tsf.params.titleLocation&&(W='after'):'right'===tsf.params.titleLocation&&(W='after'),f=W};w();const x=function(){let W='';if(!tsf.states.isSettingsPage)tsf.states.isHome?q&&(W=tsf.params.titleAdditions):q&&(W=tsf.params.titleAdditions);else if(q){let X=document.getElementById('autodescription-site-settings[homepage_title_tagline]'),Y=X?X.value:'';W=Y.length?Y:tsf.params.blogDescription}W.length&&(W=tsf.escapeString(W),'before'===f?W=W+' '+n+' ':'after'===f?W=' '+n+' '+W:void 0),l=W.length?W:'',j=document.getElementById('tsf-title-placeholder'),l.length&&j&&(j.innerHTML=l)};x();const y=function(){let W='';s?W=tsf.i18n.privateTitle:t&&(W=tsf.i18n.protectedTitle),W.length&&(W=tsf.escapeString(W),'before'===d?W+=' ':'after'===d?W=' '+W:void 0),h=W.length?W:'',h.length&&g&&(g.innerHTML=h),g=document.getElementById('tsf-title-placeholder-prefix'),h.length&&g&&(g.innerHTML=h)};y();const z=function(W){if(j||g){let X=jQuery(W.target),Y=X.val(),Z=!!l.length,_=!!h.length;if(!Z&&j&&(j.style.display='none'),!_&&g&&(g.style.display='none'),!Z&&!_)return void X.css('text-indent','initial');if(!Y.length)return X.css('text-indent','initial'),j&&(j.style.display='none'),void(g&&(g.style.display='none'));let aa=X.outerWidth(!0),ba=(X.outerHeight(!0)-X.height())/2,ca=(aa-X.innerWidth())/2,da=r?'right':'left',ea=(X.outerWidth(!0)-X.width())/2,fa={display:X.css('display'),lineHeight:X.css('lineHeight'),fontFamily:X.css('fontFamily'),fontWeight:X.css('fontWeight'),fontSize:X.css('fontSize'),letterSpacing:X.css('letterSpacing'),paddingTop:ba+'px',paddingBottom:ba+'px'},ga=jQuery(g),ha=jQuery(j),ia=0,ja=0,ka=0,la=0,ma=0,na=0;if(_&&(ga.css(fa),ga.css({maxWidth:'initial'}),ma=ga[0].getBoundingClientRect().width,ma<na&&(ma=0)),Z){let pa=0;switch(function(){let qa=jQuery('#tsf-title-offset');qa.text(Y),qa.css({fontFamily:fa.fontFamily,fontWeight:fa.fontWeight,letterSpacing:fa.letterSpacing,fontSize:fa.fontSize}),pa=qa[0].getBoundingClientRect().width}(),ia=X[0].getBoundingClientRect().width-ca-ea-pa-ma,ia<na&&(ma+=ia,ia=0),ha.css(fa),ha.css({maxWidth:'initial'}),f){case'before':let qa=ha[0].getBoundingClientRect().width;qa=ia<qa?ia:qa,qa<na&&(qa=0),ia=qa,la+=ia,ka+=ia,ja+=ea;break;case'after':ja+=ea+pa+ma;}}ka+=ea,ma=0>ma?0:ma,la+=ma;let oa;_&&(oa={},oa[da]=ka+'px',oa.maxWidth=ma+'px',ga.css(oa)),Z&&(oa={},oa[da]=ja+'px',oa.maxWidth=ia+'px',ha.css(oa)),oa={},oa['text-indent']=la+'px',X.css(oa)}},A=function(){let X='',Y=!!l.length,Z=!!h.length,_=l,aa=h;tsf.states.isTermEdit&&tsf.params.termName&&(aa=r?' :'+tsf.params.termName:tsf.params.termName+': ',Z=tsf.states.useTermPrefix),X=o,Z&&('before'===d?X=aa+X:'after'===d?X+=aa:void 0),Y&&('before'===f?X=_+X:'after'===f?X+=_:void 0),c&&(b=!0);let ba=document.createElement('span');ba.innerHTML=tsf.escapeString(tsf.sDoubleSpace(X)),a.prop('placeholder',tsf.unescapeString(ba.textContent)),c&&setTimeout(function(){b=!1},0)},B=function(W){let X=document.getElementById('tsf-title-reference'),Y='';X&&(1>W.target.value.length||tsf.states.homeLocks.refTitleLock?Y=W.target.placeholder:(Y=W.target.value,h.length&&('before'===d?Y=h+Y:'after'===d?Y+=h:void 0),l.length&&('before'===f?Y=l+Y:'after'===f?Y+=l:void 0)),X.innerHTML=tsf.escapeString(tsf.sDoubleSpace(Y)),setTimeout(()=>{jQuery(X).change()},0))},C=function(W){let X=document.getElementById(W.target.id+'_chars'),Y=document.getElementById('tsf-title-reference');if(X&&Y){let Z=tsf.getStringLength(tsf.unescapeString(Y.innerHTML)),_=W.target,aa='',ba=tsf.counterType,ca='',da='';25>Z||75<=Z?(aa+='tsf-count-bad',ca=tsf.i18n.bad):42>Z||55<Z?(aa+='tsf-count-okay',ca=tsf.i18n.okay):(aa+='tsf-count-good',ca=tsf.i18n.good),ba&&1!=ba?2==ba?da=ca:3==ba&&(da=Z.toString()+' - '+ca):da=Z.toString(),X.innerHTML=da,tsf.additionsClass&&(aa+=' '+tsf.additionsClass),X.className!==aa&&(X.className=aa)}},D=function(W){let X=document.getElementById(W.target.id+'_pixels'),Y=document.getElementById('tsf-title-reference');if(X&&Y){let Z={e:X,text:tsf.unescapeString(Y.innerHTML),guideline:tsf.params.titlePixelGuideline};tsf.updatePixelCounter(Z)}};a.on('input.tsfUpdateTitles',function(W){return!b&&void(z(W),A(),B(W),C(W),D(W))});a.on('tsf-update-title-counter',function(W){B(W),C(W),D(W)});const G=function(){a.trigger('tsf-update-title-counter')},H=function(){a.trigger('input.tsfUpdateTitles')};H();const I=function(){x(),H()};jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',I),jQuery('#autodescription-site-settings\\[homepage_tagline\\]').on('change',I);let J=0;const K=function(){clearTimeout(J),J=setTimeout(function(){H()},50)};jQuery(window).on('tsf-counter-updated',K);jQuery('#tsf-title-tagline-toggle :input').on('click',function(W){let X=q;jQuery(W.target).is(':checked')?(jQuery('.tsf-custom-blogname-js').css('display','inline'),q=!0):(jQuery('.tsf-custom-blogname-js').css('display','none'),q=!1),X^q&&(x(),K())});jQuery('#visibility .save-post-visibility').on('click',function(){let X=jQuery('#visibility').find('input:radio:checked').val();switch(s=!1,t=!1,X){case'password':let Y=jQuery('#visibility').find('#post_password').val();t=!!Y&&!!Y.length;break;case'private':s=!0;break;default:case'public':}y(),K()});jQuery('#tsf-title-separator :input').on('click',function(W){let X=jQuery(W.target).val(),Y='';Y='pipe'===X?'|':'dash'===X?'-':jQuery('<div/>').html('&'+X+';').text(),n=Y,jQuery('.tsf-sep-js').text(' '+n+' '),x(),K()});const O=function(){let W=tsf.settingsChanged;H(!0),tsf.settingsChanged=W};jQuery('#homepage-tab-general').on('tsf-tab-toggled',O),jQuery('#tsf-flex-inpost-tab-general').on('tsf-flex-tab-toggled',O);let P=0;const Q=function(){clearTimeout(P),P=setTimeout(O,50)};jQuery(window).one('tsf-ready',function(){jQuery(window).on('tsf-flex-resize',Q)});let R=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(W,X){if(0<=R.indexOf(X.id)){let Y=X.querySelector('.inside');0<Y.offsetHeight&&0<Y.offsetWidth&&O()}});jQuery('#tsf-home-title-location :input').on('click',function(){w(),x(),K()});tsf.states.isHome||jQuery('#edittag #name, #titlewrap #title').on('input',function(W){let X=W.target.value;X=X.trim(),o=X.length?tsf.escapeString(u?tsf.stripTags(X):X):tsf.params.untitledTitle,A(),G()});(function(){let W=0,X=window.innerWidth;window.addEventListener('resize',function(){clearTimeout(W),W=setTimeout(function(){let Y=window.innerWidth;X<Y?782>=X&&782<=Y&&O():782<=X&&782>=Y&&O(),X=Y},50)})})()}}},_initUnboundTitleSettings:function(){if(tsf.hasInput){let a=jQuery(['#autodescription_title','#autodescription-meta\\[doctitle\\]','#autodescription-site-settings\\[homepage_title\\]'].join(', '));jQuery('#tsf-title-placeholder, #tsf-title-placeholder-prefix').on('click',function(j){let l=jQuery(j.target).siblings(a)[0];if('function'==typeof l.setSelectionRange){l.focus();let n=2*l.value.length;l.setSelectionRange(n,n)}else{let n=l.value;l.value='',l.focus(),l.value=n}});jQuery('#autodescription-site-settings\\[title_rem_additions\\]').on('click',function(j){jQuery(j.target).is(':checked')?jQuery('.tsf-title-additions-js').css('display','none'):jQuery('.tsf-title-additions-js').css('display','inline')});jQuery('#tsf-title-location input').on('click',function(j){let l=jQuery('.tsf-title-additions-example-left'),n=jQuery('.tsf-title-additions-example-right');'right'===jQuery(j.target).val()?(l.css('display','none'),n.css('display','inline')):(l.css('display','inline'),n.css('display','none'))});jQuery('#autodescription-site-settings\\[homepage_title\\]').on('input',function(j){let l=j.target.value||'',n=jQuery('.tsf-custom-title-js');0===l.length?n.text(tsf.params.defaultTitle):n.text(l)});jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input.tsfInputTagline',function(j){let l=j.target.value||'',n=jQuery('.tsf-custom-tagline-js');0===l.length?(n.text(tsf.params.blogDescription),0===tsf.params.blogDescription.length?jQuery('#tsf-home-title-location .tsf-sep-js').hide():jQuery('#tsf-home-title-location .tsf-sep-js').show()):(n.text(l),jQuery('#tsf-home-title-location .tsf-sep-js').show())}),jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').trigger('input.tsfInputTagline');jQuery('#title-prefixes-toggle :input').on('click',function(j){let l=jQuery(j.target),n=jQuery('.tsf-title-prefix-example');l.is(':checked')?n.css('display','none'):n.css('display','inline')})}},_initDescInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_description, #autodescription-meta\\[description\\], #autodescription-site-settings\\[homepage_description\\]');if(a.length){let b=tsf.params.descriptionSeparator;jQuery('#tsf-description-separator input').on('click',function(s){let t=jQuery(s.target).val(),u='';u='pipe'===t?'|':'dash'===t?'-':jQuery('<div/>').html('&'+t+';').text(),b=u,jQuery('#autodescription-descsep-js').text(' '+b+' '),n()});const d=function(s){let t=document.getElementById(s.target.id+'_chars'),u=document.getElementById('tsf-description-reference');if(t){let w=tsf.getStringLength(tsf.unescapeString(u.innerHTML)),x='',y=tsf.counterType,z='',A='';100>w||330<=w?(x+='tsf-count-bad',z=tsf.i18n.bad):137>w||300<w?(x+='tsf-count-okay',z=tsf.i18n.okay):(x+='tsf-count-good',z=tsf.i18n.good),y&&1!=y?2==y?A=z:3==y&&(A=w.toString()+' - '+z):A=w.toString(),t.innerHTML=A,tsf.additionsClass&&(x+=' '+tsf.additionsClass),t.className!==x&&(t.className=x)}},f=function(s){let t=document.getElementById('tsf-description-reference'),u='';t&&(u=1>s.target.value.length||tsf.states.homeLocks.refDescriptionLock?s.target.placeholder:s.target.value,t.innerHTML=tsf.escapeString(tsf.sDoubleSpace(u)),setTimeout(()=>{jQuery(t).change()},0))},g=function(s){let t=document.getElementById(s.target.id+'_pixels'),u=document.getElementById('tsf-description-reference');if(t&&u){let w={e:t,text:tsf.unescapeString(u.innerHTML),guideline:tsf.params.descPixelGuideline};tsf.updatePixelCounter(w)}};a.on('input.tsfUpdateDescriptions',function(s){f(s),d(s),g(s)});const j=function(){a.trigger('input.tsfUpdateDescriptions')};j();let l=0;const n=function(){clearTimeout(l),l=setTimeout(function(){j()},50)};jQuery(window).on('tsf-counter-updated',n);let q=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(s,t){if(0<=q.indexOf(t.id)){let u=t.querySelector('.inside');0<u.offsetHeight&&0<u.offsetWidth&&n()}})}}},_initSocialTitleInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_og_title, #autodescription-site-settings\\[homepage_og_title\\]'),b=jQuery('#autodescription_twitter_title, #autodescription-site-settings\\[homepage_twitter_title\\]'),c=jQuery('#tsf-title-reference');if(a.length&&b.length&&c.length){let d=!1,f=!!navigator.userAgent.match(/Trident\/7\./),g=tsf.states.homeLocks.ogTitleLock,h=tsf.states.homeLocks.ogTitlePHLock,j=tsf.states.homeLocks.twTitleLock,l=tsf.states.homeLocks.twTitlePHLock,n=g?a.prop('placeholder'):a.val(),o=j?b.prop('placeholder'):b.val(),q=c.text();const r=y=>{let z='';switchActive:switch(y){case'twitter':if(z=o,j||l){z=z.length?z:b.prop('placeholder');break switchActive}case'og':if(z=z.length?z:n,g||h){z=z.length?z:a.prop('placeholder');break switchActive}case'reference':z=z.length?z:q;}return z},s=()=>{f&&(d=!0),g||h||a.prop('placeholder',r('reference')),j||l||b.prop('placeholder',r('og')),f&&setTimeout(function(){d=!1},0)},t=(y,z,A)=>{tsf.updateSocialCounter(y,tsf.escapeString(z),A)},u=()=>{a.each((y,z)=>t(z,r('og'),88)),b.each((y,z)=>t(z,r('twitter'),70))};c.on('change',()=>{q=c.text(),s(),u()});a.on('input.tsfUpdateOgTitle',y=>{d||(!g&&(n=y.target.value.length?y.target.value:''),s(),u())}),b.on('input.tsfUpdateTwTitle',y=>{d||(!j&&(o=y.target.value.length?y.target.value:''),s(),u())})}}},_initSocialDescInputs:function(){if(tsf.hasInput){let a=jQuery('#autodescription_og_description, #autodescription-site-settings\\[homepage_og_description\\]'),b=jQuery('#autodescription_twitter_description, #autodescription-site-settings\\[homepage_twitter_description\\]'),c=jQuery('#tsf-description-reference');if(a.length&&b.length&&c.length){let d=!1,f=!!navigator.userAgent.match(/Trident\/7\./),g=tsf.states.homeLocks.ogDescriptionLock,h=tsf.states.homeLocks.ogDescriptionPHLock,j=tsf.states.homeLocks.twDescriptionLock,l=tsf.states.homeLocks.twDescriptionPHLock,n=g?a.prop('placeholder'):a.val(),o=j?b.prop('placeholder'):b.val(),q=c.text();const r=y=>{let z='';switchActive:switch(y){case'twitter':if(z=o,j||l){z=z.length?z:b.prop('placeholder');break switchActive}case'og':if(z=z.length?z:n,g||h){z=z.length?z:a.prop('placeholder');break switchActive}case'reference':z=z.length?z:q;}return z},s=()=>{f&&(d=!0),g||h||a.attr('placeholder',r('reference')),j||l||b.attr('placeholder',r('og')),f&&setTimeout(function(){d=!1},0)},t=(y,z,A)=>{tsf.updateSocialCounter(y,tsf.escapeString(z),A)},u=()=>{a.each((y,z)=>t(z,r('og'),300)),b.each((y,z)=>t(z,r('twitter'),200))};c.on('change',()=>{q=c.text(),s(),u()});a.on('input.tsfUpdateOgDesc',y=>{d||(!g&&(n=y.target.value.length?y.target.value:''),s(),u())}),b.on('input.tsfUpdateOgDesc',y=>{d||(!j&&(o=y.target.value.length?y.target.value:''),s(),u())})}}},updateSocialCounter:function(a,b,c){let d=document.getElementById(a.id+'_chars');if(d){let f=tsf.getStringLength(tsf.unescapeString(b)),g='',h=tsf.counterType,j='',l='';f>c?(g+='tsf-count-bad',j=tsf.i18n.bad):(g+='tsf-count-good',j=tsf.i18n.good),h&&1!=h?2==h?l=j:3==h&&(l=f.toString()+' - '+j):l=f.toString(),d.innerHTML=l,tsf.additionsClass&&(g+=' '+tsf.additionsClass),d.className!==g&&(d.className=g)}},_initCounters:function(){if(tsf.hasInput){jQuery('.tsf-counter').on('click',function(){++tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),b();let g='.tsf-counter-wrap .tsf-ajax',h=0;tsf.resetAjaxLoader(g),tsf.setAjaxLoader(g);let j={method:'POST',url:ajaxurl,datatype:'json',data:{action:'the_seo_framework_update_counter',nonce:tsf.nonces.edit_posts,val:tsf.counterType},async:!0,success:function(l){switch(l=tsf.convertJSONResponse(l),'success'===l.type&&(h=1),h){case 0:tsf.unsetAjaxLoader(g,!1);break;case 1:tsf.unsetAjaxLoader(g,!0);break;default:tsf.resetAjaxLoader(g);}}};jQuery.ajax(j)});const b=function(){let f=tsf.counterType;1==f?(tsf.additionsClass='tsf-counter-one',tsf.counterType=1):2==f?(tsf.additionsClass='tsf-counter-two',tsf.counterType=2):3==f?(tsf.additionsClass='tsf-counter-three',tsf.counterType=3):(tsf.additionsClass='tsf-counter-zero',tsf.counterType=0),tsf._triggerCounterUpdate()};b();jQuery('#autodescription-site-settings\\[display_character_counter\\]').on('click',function(f){jQuery(f.target).is(':checked')?jQuery('.tsf-counter-wrap').show():jQuery('.tsf-counter-wrap').hide()});jQuery('#autodescription-site-settings\\[display_pixel_counter\\]').on('click',function(f){jQuery(f.target).is(':checked')?(jQuery('.tsf-pixel-counter-wrap').show(),tsf._triggerCounterUpdate()):jQuery('.tsf-pixel-counter-wrap').hide()})}},tabToggle:function(a,b){let c=jQuery(a.target);if(c.is(':checked')){b='boolean'==typeof b&&b;let d=a.target.id,f=a.target.name,g='tsf-active-tab-content',h='tsf-tab-active',j=jQuery('.'+g),l=c.closest('.tsf-nav-tab-wrapper').find('.'+h),n=j.find('input:invalid, select:invalid, textarea:invalid');if(n.length){try{n[0].reportValidity()}catch(q){let r=jQuery(a.target.form).find('input[type=submit]').not('.autodescription-site-settings\\[tsf-settings-reset\\]');r.length&&r[0].click()}return l.prop('checked',!0),c.prop('checked',!1),a.stopPropagation(),a.preventDefault(),!1}let o=jQuery('#'+d+'-content');if(l.removeClass(h),c.addClass(h),b){let q=jQuery('.'+f+'-content');q.removeClass(g).hide(),o.addClass(g).show(),jQuery('#'+d).trigger('tsf-tab-toggled')}else if(o.length&&!o.is(j)){let q=jQuery('.'+f+'-content');q.fadeOut(150,function(){jQuery(this).removeClass(g)}),setTimeout(()=>{o.addClass(g).fadeIn(250)},150),setTimeout(()=>{jQuery('#'+d).trigger('tsf-tab-toggled')},175)}}},flexTabToggle:function(a,b){let c=jQuery(a.target);if(c.is(':checked')){b='boolean'==typeof b&&b;let d=a.target.id,f=a.target.name,g='tsf-flex-tab-content-active',h='tsf-flex-tab-active',j=jQuery('.'+g),l=c.closest('.tsf-flex-nav-tab-wrapper').find('.'+h),n=j.find('input:invalid, select:invalid, textarea:invalid');if(n.length){try{n[0].reportValidity()}catch(q){let r=jQuery(a.target.form).find('#publishing-action input[type="submit"], #save-action input[type="submit"]');r.length&&r[0].click()}return l.prop('checked',!0),c.prop('checked',!1),a.stopPropagation(),a.preventDefault(),!1}let o=jQuery('#'+d+'-content');if(l.removeClass(h),c.addClass(h),b){let q=jQuery('.'+f+'-content');q.removeClass(g).hide(),o.addClass(g).show(),jQuery('#'+d).trigger('tsf-flex-tab-toggled')}else if(o.length&&!o.is(j)){let q=jQuery('.'+f+'-content');q.fadeOut(150,function(){jQuery(this).removeClass(g)}),setTimeout(()=>{o.addClass(g).fadeIn(250)},150),setTimeout(()=>{jQuery('#'+d).trigger('tsf-flex-tab-toggled')},175)}}},setTabsOnload:function(){tsf.hasInput&&(tsf.states.isPostEdit&&jQuery('.tsf-flex-nav-tab-radio:checked').trigger('change',[!0]),tsf.states.isSettingsPage&&jQuery('.tsf-tabs-radio:checked').each((a,b)=>{jQuery(b).trigger('change',[!0])}))},taglineToggleDesc:function(a){let b=jQuery(a.target),c=jQuery('#tsf-on-blogname-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},additionsToggleDesc:function(a){let b=jQuery(a.target),c=jQuery('#tsf-description-additions-js');b.is(':checked')?c.css('display','inline'):c.css('display','none')},taglineToggleOnload:function(){if(tsf.hasInput){let a=jQuery('#tsf-title-tagline-toggle :input'),b=jQuery('.tsf-custom-blogname-js'),c=jQuery('#tsf-description-additions-toggle :input'),d=jQuery('#tsf-description-additions-js'),f=jQuery('#tsf-description-onblogname-toggle :input'),g=jQuery('#tsf-on-blogname-js'),h=jQuery('#tsf-title-additions-toggle :input'),j=jQuery('.tsf-title-additions-js');a.is(':checked')?b.css('display','inline'):b.css('display','none'),c.is(':checked')?d.css('display','inline'):d.css('display','none'),f.is(':checked')?g.css('display','inline'):g.css('display','none'),h.is(':checked')?j.css('display','none'):j.css('display','inline')}},attachUnsavedChangesListener:function(){if(tsf.hasInput){let a=function(d){tsf.settingsChanged||tsf.registerChange(),jQuery(b).not(c).off(d.type,a)},b='.tsf-metaboxes :input, #tsf-inpost-box .inside :input',c='.tsf-tab :input, .tsf-flex-nav-tab :input';jQuery(b).not(c).on('change',a),b='.tsf-metaboxes input[type=text], .tsf-metaboxes textarea, #tsf-inpost-box .inside input[type=text], #tsf-inpost-box .inside textarea',c='.tsf-nav-tab-wrapper input, .tsf-flex-nav-tab-wrapper input',jQuery(b).not(c).on('input',a),window.onbeforeunload=function(){if(tsf.settingsChanged)return tsf.i18n.saveAlert},jQuery('.tsf-metaboxes input[type="submit"], #publishing-action input[type="submit"], #save-action input[type="submit"], a.submitdelete').click(()=>{window.onbeforeunload=null})}},registerChange:function(){tsf.settingsChanged=!0},confirmedReset:function(){return confirm(tsf.i18n.confirmReset)},onLoadUnregisterChange:function(){tsf.settingsChanged=!1},dismissNotice:function(a){jQuery(a.target).parents('.tsf-notice').slideUp(200,function(){this.remove()})},setAjaxLoader:function(a){jQuery(a).toggleClass('tsf-loading')},unsetAjaxLoader:function(a,b){let c='tsf-success',d=2500;b||(c='tsf-error',d=5e3),jQuery(a).removeClass('tsf-loading').addClass(c).fadeOut(d)},resetAjaxLoader:function(a){jQuery(a).stop().empty().prop('class','tsf-ajax').css('opacity','1').removeProp('style')},setColorOnload:function(){let a=jQuery('.tsf-color-picker');a.length&&jQuery.each(a,function(b,c){let d=jQuery(c),f='',g=d.data('tsf-default-color');d.wpColorPicker({defaultColor:g,width:238,change:function(){f=d.wpColorPicker('color'),''==f&&(f=g),d.val(f),tsf.registerChange()},clear:function(){d.parent().siblings('.wp-color-result').css('backgroundColor',g),tsf.registerChange()},palettes:!1})})},_doFlexResizeListener:function(){if(jQuery('.tsf-flex').length){tsf._setResizeListeners();let a=0,b={},c=0,d=jQuery('.tsf-flex-nav-tab-wrapper'),f=jQuery(window);f.on('tsf-flex-resize',function(){clearTimeout(a);let g=0;a=setTimeout(function(){if(d.length){let h=jQuery('.tsf-flex-nav-tab-inner'),j=d.width(),l=h.width(),n=jQuery('.tsf-flex-nav-name');b.tabWrapper||(b.tabWrapper={},b.tabWrapper.outer=0,b.tabWrapper.inner=0,b.tabWrapper.shown=1),!b.tabWrapper.shown&&b.tabWrapper.outer<j&&(n.fadeIn(250),setTimeout(function(){l=h.width()},g)),setTimeout(function(){l>j?(n.hide(),b.tabWrapper.shown=0):b.tabWrapper.outer<j&&(n.fadeIn(250),b.tabWrapper.shown=1)},2*g),setTimeout(function(){b.tabWrapper.outer=j,b.tabWrapper.inner=l},3*g)}},c),g=10,c=75}),f.trigger('tsf-flex-resize')}},_setResizeListeners:function(){jQuery(window).on('resize orientationchange',tsf._triggerResize),jQuery('#collapse-menu').click(tsf._triggerResize),jQuery('.columns-prefs :input[type=radio]').change(tsf._triggerResize),jQuery('.meta-box-sortables').on('sortupdate',tsf._triggerResize)},_triggerResize:function(){jQuery(window).trigger('tsf-flex-resize')},_triggerCounterUpdate:function(){jQuery(window).trigger('tsf-counter-updated')},_triggerReady:function(){jQuery(document.body).trigger('tsf-ready')},_triggerOnLoad:function(){jQuery(document.body).trigger('tsf-onload')},_doReady:function(){tsf._triggerOnLoad(),tsf._initCounters(),tsf._initTitleInputs(),tsf._initUnboundTitleSettings(),tsf._initSocialTitleInputs(),tsf._initDescInputs(),tsf._initSocialDescInputs(),tsf.setTabsOnload(),tsf.taglineToggleOnload(),tsf.setColorOnload(),tsf.attachUnsavedChangesListener(),tsf.onLoadUnregisterChange(),tsf._doFlexResizeListener(),tsf._triggerReady()},setupVars:function(){tsf.counterType=parseInt(tsf.states.counterType),tsf.hasInput=tsf.states.hasInput},ready:function(a){tsf.setupVars(),a('div.updated, div.error, div.notice-warning').insertAfter('div.tsf-top-wrap'),a('.tsf-js-confirm-reset').on('click',tsf.confirmedReset),a('.tsf-tabs-radio').on('change',tsf.tabToggle),a('.tsf-flex-nav-tab-radio').on('change',tsf.flexTabToggle),a('#tsf-description-onblogname-toggle :input').on('click',tsf.taglineToggleDesc),a('#tsf-description-additions-toggle :input').on('click',tsf.additionsToggleDesc),a('.tsf-dismiss').on('click',tsf.dismissNotice),a(document.body).ready(tsf._doReady)}},jQuery(tsf.ready);
