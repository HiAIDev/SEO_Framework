'use strict';window.tsf={nonces:tsfL10n.nonces,i18n:tsfL10n.i18n,states:tsfL10n.states,params:tsfL10n.params,settingsChanged:!1,counterType:0,hasInput:!1,browseUnhappy:!!navigator.userAgent.match(/Trident\/7\./),counterClasses:{0:'tsf-counter-zero',1:'tsf-counter-one',2:'tsf-counter-two',3:'tsf-counter-three'},confirm:function(t){return confirm(t)},stripTags:function(t){return t.replace(/(<([^>]+)?>?)/ig,'')},escapeString:function(t){if(!t.length)return'';let s={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'};return t.replace(/[&<>"']/g,function(n){return s[n]})},unescapeString:function(t){if(!t.length)return'';let s={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#039;'},n={};n=tsf.browseUnhappy?Object.keys(s).map(function(o){return s[o]}):Object.values(s);let a=new RegExp(n.map(function(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&')}).join('|'),'g');return tsf.browseUnhappy?t.replace(a,function(o){for(let r in s)if(s[r]===o)return r;return o}):t.replace(a,function(o){return Object.keys(s).find(function(r){return s[r]===o})})},sDoubleSpace:function(t){return t.replace(/\s\s+/g,' ')},getStringLength:function(t){let s,n=0;return t.length&&(s=document.createElement('span'),s.innerHTML=tsf.escapeString(t).trim(),'undefined'!=typeof s.childNodes[0]&&(n=s.childNodes[0].nodeValue.length)),+n},convertJSONResponse:function(t){let s=t&&t.json||void 0,n=1===s;if(!n){let a=t;try{t=JSON.parse(t),n=!0}catch(o){n=!1}n||(t=a)}return t},updateCharacterCounter:function(t){let s=t.e,n=t.text,a=t.guidelines,o=tsf.getStringLength(n),r='',l='',g={bad:'tsf-count-bad',okay:'tsf-count-okay',good:'tsf-count-good'};switch(o?o<a.lower?(r=g.bad,l=tsf.i18n.inputGuidelines.short.farTooShort):o<a.goodLower?(r=g.okay,l=tsf.i18n.inputGuidelines.short.tooShort):o>a.upper?(r=g.bad,l=tsf.i18n.inputGuidelines.short.farTooLong):o>a.goodUpper?(r=g.okay,l=tsf.i18n.inputGuidelines.short.tooLong):(r=g.good,l=tsf.i18n.inputGuidelines.short.good):(r=g.bad,l=tsf.i18n.inputGuidelines.short.empty),tsf.counterType){case 3:l=o.toString()+' - '+l;break;case 2:break;case 1:default:l=o.toString();}for(let c in s.innerHTML=l,g)s.classList.remove(g[c]);for(let c in tsf.counterClasses)s.classList.remove(tsf.counterClasses[c]);s.classList.add(r),s.classList.add(tsf.counterClasses[tsf.counterType])},updatePixelCounter:function(t){let s=t.e,n=t.text,a=t.guidelines,o=s.parentElement;if(o){let r=o.querySelector('.tsf-pixel-counter-bar'),l=o.querySelector('.tsf-pixel-counter-shadow');if(r&&l){l.innerHTML=tsf.escapeString(n);let g=l.offsetWidth,c='',d='',u='',f={bad:'tsf-pixel-counter-bad',okay:'tsf-pixel-counter-okay',good:'tsf-pixel-counter-good'};d=100*(g/a.goodUpper)+'%',g?g<a.lower?(c=f.bad,u=tsf.i18n.inputGuidelines.long.farTooShort):g<a.goodLower?(c=f.okay,u=tsf.i18n.inputGuidelines.long.tooShort):g>a.upper?(d=100*(a.upper/(g+2*(g-a.upper)/3))+'%',c=f.bad,u=tsf.i18n.inputGuidelines.long.farTooLong):g>a.goodUpper?(c=f.okay,u=tsf.i18n.inputGuidelines.long.tooLong,d='100%'):(c=f.good,u=tsf.i18n.inputGuidelines.long.good):(c=f.bad,d='100%',u=tsf.i18n.inputGuidelines.long.empty);let b,h=r.querySelector('.tsf-pixel-counter-fluid');for(let y in b=tsf.i18n.pixelsUsed.replace(/%1\$d/g,g),b=b.replace(/%2\$d/g,a.goodUpper),b=b+'<br>'+u,f)r.classList.remove(f[y]);r.classList.add(c),h.style.width=d,r.dataset.desc=b,r.setAttribute('aria-label',b),tsfTT.triggerUpdate(r)}}},_initTitleInputs:function(){if(tsf.hasInput){let t=jQuery(['#autodescription_title','#autodescription-meta\\[doctitle\\]','#autodescription-site-settings\\[homepage_title\\]'].join(', '));if(t.length){let n,a,o,l,s=!1,r='',g='',c=tsf.params.titleSeparator,d=tsf.params.defaultTitle,u=tsf.states.useTagline,f=tsf.states.isRTL,h=tsf.states.isPrivate,b=tsf.states.isPasswordProtected,y=tsf.states.stripTitleTags;n=f?'after':'before';const x=function(){let K='before';tsf.states.isSettingsPage?f?'right'===jQuery('#tsf-home-title-location input:checked').val()&&(K='after'):'left'===jQuery('#tsf-home-title-location input:checked').val()&&(K='after'):tsf.states.isHome?f?'right'===tsf.params.titleLocation&&(K='after'):'left'===tsf.params.titleLocation&&(K='after'):f?'left'===tsf.params.titleLocation&&(K='after'):'right'===tsf.params.titleLocation&&(K='after'),a=K};x();const _=function(){let K='';if(!tsf.states.isSettingsPage)tsf.states.isHome?u&&(K=tsf.params.titleAdditions):u&&(K=tsf.params.titleAdditions);else if(u){let Q=document.getElementById('autodescription-site-settings[homepage_title_tagline]'),X=Q&&Q.value||'';X=tsf.sDoubleSpace(X.trim()),K=X.length?X:tsf.params.blogDescription}K.length&&(K=tsf.escapeString(tsf.sDoubleSpace(K.trim())),'before'===a?K=K+' '+c+' ':'after'===a?K=' '+c+' '+K:void 0),g=K.length?K:'',l=document.getElementById('tsf-title-placeholder'),g.length&&l&&(l.innerHTML=g)};_();const L=function(){let K='';h?K=tsf.i18n.privateTitle:b&&(K=tsf.i18n.protectedTitle),K.length&&(K=tsf.escapeString(K),'before'===n?K+=' ':'after'===n?K=' '+K:void 0),r=K.length?K:'',r.length&&o&&(o.innerHTML=r),o=document.getElementById('tsf-title-placeholder-prefix'),r.length&&o&&(o.innerHTML=r)};L();const T=function(K){if(l||o){let Q=jQuery(K.target),X=Q.val(),Y=!!g.length,Z=!!r.length;if(!Y&&l&&(l.style.display='none'),!Z&&o&&(o.style.display='none'),!Y&&!Z)return void Q.css('text-indent','initial');if(!X.length)return Q.css('text-indent','initial'),l&&(l.style.display='none'),void(o&&(o.style.display='none'));let ee=Q.outerWidth(!0),te=(Q.outerHeight(!0)-Q.height())/2,se=(ee-Q.innerWidth())/2,ie=f?'right':'left',ne=(Q.outerWidth(!0)-Q.width())/2,ae={display:Q.css('display'),lineHeight:Q.css('lineHeight'),fontFamily:Q.css('fontFamily'),fontWeight:Q.css('fontWeight'),fontSize:Q.css('fontSize'),letterSpacing:Q.css('letterSpacing'),paddingTop:te+'px',paddingBottom:te+'px'},oe=jQuery(o),re=jQuery(l),le=0,pe=0,ge=0,ce=0,de=0,ue=0;if(Z&&(oe.css(ae),oe.css({maxWidth:'initial'}),de=oe[0].getBoundingClientRect().width,de<ue&&(de=0)),Y){let he=0;switch(function(){let me=jQuery('#tsf-title-offset');me.text(X),me.css({fontFamily:ae.fontFamily,fontWeight:ae.fontWeight,letterSpacing:ae.letterSpacing,fontSize:ae.fontSize}),he=me[0].getBoundingClientRect().width}(),le=Q[0].getBoundingClientRect().width-se-ne-he-de,le<ue&&(de+=le,le=0),re.css(ae),re.css({maxWidth:'initial'}),a){case'before':let me=re[0].getBoundingClientRect().width;me=le<me?le:me,me<ue&&(me=0),le=me,ce+=le,ge+=le,pe+=ne;break;case'after':pe+=ne+he+de;}}ge+=ne,de=0>de?0:de,ce+=de;let fe;Z&&(fe={},fe[ie]=ge+'px',fe.maxWidth=de+'px',oe.css(fe)),Y&&(fe={},fe[ie]=pe+'px',fe.maxWidth=le+'px',re.css(fe)),fe={},fe['text-indent']=ce+'px',Q.css(fe)}},C=function(){let Q='',X=!!g.length,Y=!!r.length,Z=g,ee=r;tsf.states.isTermEdit&&tsf.params.termName&&(ee=f?' :'+tsf.params.termName:tsf.params.termName+': ',Y=tsf.states.useTermPrefix),Q=d,Y&&('before'===n?Q=ee+Q:'after'===n?Q+=ee:void 0),X&&('before'===a?Q=Z+Q:'after'===a?Q+=Z:void 0),tsf.browseUnhappy&&(s=!0);let te=document.createElement('span');te.innerHTML=tsf.escapeString(tsf.sDoubleSpace(Q)),t.prop('placeholder',tsf.unescapeString(te.textContent)),tsf.browseUnhappy&&setTimeout(function(){s=!1},0)},w=function(K){let Q=document.getElementById('tsf-title-reference'),X='';Q&&(1>K.target.value.length||tsf.states.homeLocks.refTitleLock?X=K.target.placeholder:(X=K.target.value,r.length&&('before'===n?X=r+X:'after'===n?X+=r:void 0),g.length&&('before'===a?X=g+X:'after'===a?X+=g:void 0)),Q.innerHTML=tsf.escapeString(tsf.sDoubleSpace(X)),setTimeout(function(){jQuery(Q).change()},0))},S=function(K){let Q=document.getElementById(K.target.id+'_chars'),X=document.getElementById('tsf-title-reference');if(Q&&X){let Y={e:Q,text:tsf.unescapeString(X.innerHTML),guidelines:tsf.params.inputGuidelines.title.search.chars};tsf.updateCharacterCounter(Y)}},I=function(K){let Q=document.getElementById(K.target.id+'_pixels'),X=document.getElementById('tsf-title-reference');if(Q&&X){let Y={e:Q,text:tsf.unescapeString(X.innerHTML),guidelines:tsf.params.inputGuidelines.title.search.pixels};tsf.updatePixelCounter(Y)}};t.on('input.tsfUpdateTitles',function(K){return!s&&void(T(K),C(),w(K),S(K),I(K))});t.on('tsf-update-title-counter',function(K){w(K),S(K),I(K)});const D=function(){t.trigger('tsf-update-title-counter')},W=function(){_(),E()};jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input',W),jQuery('#autodescription-site-settings\\[homepage_tagline\\]').on('change',W);jQuery('#tsf-title-tagline-toggle :input').on('click',function(K){let Q=u;jQuery(K.target).is(':checked')?(jQuery('.tsf-custom-blogname-js').css('display','inline'),u=!0):(jQuery('.tsf-custom-blogname-js').css('display','none'),u=!1),Q^u&&(_(),B())});jQuery('#visibility .save-post-visibility').on('click',function(){let Q=jQuery('#visibility').find('input:radio:checked').val();switch(h=!1,b=!1,Q){case'password':let X=jQuery('#visibility').find('#post_password').val();b=!!X&&!!X.length;break;case'private':h=!0;break;default:case'public':}L(),B()});jQuery('#tsf-title-separator :input').on('click',function(K){let Q=jQuery(K.target).val(),X='';X='pipe'===Q?'|':'dash'===Q?'-':jQuery('<div/>').html('&'+Q+';').text(),c=X,jQuery('.tsf-sep-js').text(' '+c+' '),_(),B()});const E=function(){t.trigger('input.tsfUpdateTitles')};let z=0;const B=function(){clearTimeout(z),z=setTimeout(E,10)};jQuery(window).on('tsf-counter-updated',B);const O=function(){let K=tsf.settingsChanged;E(),tsf.settingsChanged=K};let G=0;const A=function(){clearTimeout(G),G=setTimeout(O,10)};jQuery(window).on('tsf-flex-resize',A),jQuery('#homepage-tab-general').on('tsf-tab-toggled',A),jQuery('#tsf-flex-inpost-tab-general').on('tsf-flex-tab-toggled',A),A();let M=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(K,Q){if(0<=M.indexOf(Q.id)){let X=Q.querySelector('.inside');0<X.offsetHeight&&0<X.offsetWidth&&O()}});jQuery('#tsf-home-title-location :input').on('click',function(){x(),_(),B()});tsf.states.isHome||jQuery('#edittag #name, #titlewrap #title').on('input',function(K){let Q=K.target.value;Q=Q.trim(),d=Q.length?tsf.escapeString(y?tsf.stripTags(Q):Q):tsf.params.untitledTitle,C(),D()});tsf.states.isHome||(jQuery('#autodescription_title_no_blogname').on('change',function(K){if(!tsf.states.taglineLocked){let Q=u;u=!jQuery(K.target).is(':checked'),Q^u&&(_(),B())}}),jQuery('#autodescription_title_no_blogname').trigger('change'));(function(){let K=0,Q=window.innerWidth;window.addEventListener('resize',function(){clearTimeout(K),K=setTimeout(function(){let X=window.innerWidth;Q<X?782>=Q&&782<=X&&O():782<=Q&&782>=X&&O(),Q=X},50)})})()}}},_initUnboundTitleSettings:function(){if(tsf.hasInput){let t=jQuery(['#autodescription_title','#autodescription-meta\\[doctitle\\]','#autodescription-site-settings\\[homepage_title\\]'].join(', '));jQuery('#tsf-title-placeholder, #tsf-title-placeholder-prefix').on('click',function(g){let c=jQuery(g.target).siblings(t)[0];if('function'==typeof c.setSelectionRange){c.focus();let d=2*c.value.length;c.setSelectionRange(d,d)}else{let d=c.value;c.value='',c.focus(),c.value=d}});jQuery('#autodescription-site-settings\\[title_rem_additions\\]').on('click',function(g){jQuery(g.target).is(':checked')?jQuery('.tsf-title-additions-js').css('display','none'):jQuery('.tsf-title-additions-js').css('display','inline')});jQuery('#tsf-title-location input').on('click',function(g){let c=jQuery('.tsf-title-additions-example-left'),d=jQuery('.tsf-title-additions-example-right');'right'===jQuery(g.target).val()?(c.css('display','none'),d.css('display','inline')):(c.css('display','inline'),d.css('display','none'))});jQuery('#autodescription-site-settings\\[homepage_title\\]').on('input',function(g){let c=g.target.value||'',d=jQuery('.tsf-custom-title-js');0===c.length?d.text(tsf.params.defaultTitle):d.text(c)});jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').on('input.tsfInputTagline',function(g){let c=g.target.value||'',d=jQuery('.tsf-custom-tagline-js');c=tsf.escapeString(tsf.sDoubleSpace(c.trim())),c.length?(d.html(c),jQuery('#tsf-home-title-location .tsf-sep-js').show()):(d.text(tsf.params.blogDescription),0===tsf.params.blogDescription.length?jQuery('#tsf-home-title-location .tsf-sep-js').hide():jQuery('#tsf-home-title-location .tsf-sep-js').show())}),jQuery('#autodescription-site-settings\\[homepage_title_tagline\\]').trigger('input.tsfInputTagline');jQuery('#title-prefixes-toggle :input').on('click',function(g){let c=jQuery(g.target),d=jQuery('.tsf-title-prefix-example');c.is(':checked')?d.css('display','none'):d.css('display','inline')})}},_initDescInputs:function(){if(tsf.hasInput){let t=jQuery('#autodescription_description, #autodescription-meta\\[description\\], #autodescription-site-settings\\[homepage_description\\]');if(t.length){let s=tsf.params.descriptionSeparator;jQuery('#tsf-description-separator input').on('click',function(x){let _=jQuery(x.target).val(),L='';L='pipe'===_?'|':'dash'===_?'-':jQuery('<div/>').html('&'+_+';').text(),s=L,jQuery('#autodescription-descsep-js').text(' '+s+' '),d()});const a=function(x){let _=document.getElementById(x.target.id+'_chars'),L=document.getElementById('tsf-description-reference');if(_&&L){let T={e:_,text:tsf.unescapeString(L.innerHTML),guidelines:tsf.params.inputGuidelines.description.search.chars};tsf.updateCharacterCounter(T)}},o=function(x){let _=document.getElementById('tsf-description-reference'),L='';_&&(L=1>x.target.value.length||tsf.states.homeLocks.refDescriptionLock?x.target.placeholder:x.target.value,_.innerHTML=tsf.escapeString(tsf.sDoubleSpace(L)),setTimeout(function(){jQuery(_).change()},0))},r=function(x){let _=document.getElementById(x.target.id+'_pixels'),L=document.getElementById('tsf-description-reference');if(_&&L){let T={e:_,text:tsf.unescapeString(L.innerHTML),guidelines:tsf.params.inputGuidelines.description.search.pixels};tsf.updatePixelCounter(T)}};t.on('input.tsfUpdateDescriptions',function(x){o(x),a(x),r(x)});const g=function(){t.trigger('input.tsfUpdateDescriptions')};let c=0;const d=function(){clearTimeout(c),c=setTimeout(g,10)};jQuery(window).on('tsf-counter-updated',d);const u=function(){let x=tsf.settingsChanged;g(),tsf.settingsChanged=x};let f=0;const h=function(){clearTimeout(f),f=setTimeout(u,10)};jQuery('#homepage-tab-general').on('tsf-tab-toggled',h),jQuery('#tsf-flex-inpost-tab-general').on('tsf-flex-tab-toggled',h),h();let b=['autodescription-homepage-settings','tsf-inpost-box'];jQuery(document).on('postbox-toggled',function(x,_){if(0<=b.indexOf(_.id)){let L=_.querySelector('.inside');0<L.offsetHeight&&0<L.offsetWidth&&d()}})}}},_initSocialTitleInputs:function(){if(tsf.hasInput){let t=jQuery('#autodescription_og_title, #autodescription-site-settings\\[homepage_og_title\\]'),s=jQuery('#autodescription_twitter_title, #autodescription-site-settings\\[homepage_twitter_title\\]'),n=jQuery('#tsf-title-reference');if(t.length&&s.length&&n.length){let a=!1,o=tsf.states.homeLocks.ogTitleLock,r=tsf.states.homeLocks.ogTitlePHLock,l=tsf.states.homeLocks.twTitleLock,g=tsf.states.homeLocks.twTitlePHLock,c=o?t.prop('placeholder'):t.val(),d=l?s.prop('placeholder'):s.val(),u=n.text();const f=function(T){let C='';switchActive:switch(T){case'twitter':if(C=d,l||g){C=C.length?C:s.prop('placeholder');break switchActive}case'og':if(C=C.length?C:c,o||r){C=C.length?C:t.prop('placeholder');break switchActive}case'reference':C=C.length?C:u;}return C},h=function(){tsf.browseUnhappy&&(a=!0),o||r||t.prop('placeholder',f('reference')),l||g||s.prop('placeholder',f('og')),tsf.browseUnhappy&&setTimeout(function(){a=!1},0)},b=function(T,C,w){let S=document.getElementById(T.id+'_chars');if(S){let I={e:S,text:tsf.unescapeString(C),guidelines:tsf.params.inputGuidelines.title[w].chars};tsf.updateCharacterCounter(I)}};let y=0;const x=function(){clearTimeout(y),y=setTimeout(function(){t.each(function(T,C){return b(C,f('og'),'opengraph')}),s.each(function(T,C){return b(C,f('twitter'),'twitter')})},10)};n.on('change',function(){u=n.text(),h(),x()});t.on('input.tsfUpdateOgTitle',function(T){a||(!o&&(c=T.target.value.length?T.target.value:''),h(),x())}),s.on('input.tsfUpdateTwTitle',function(T){a||(!l&&(d=T.target.value.length?T.target.value:''),h(),x())})}}},_initSocialDescInputs:function(){if(tsf.hasInput){let t=jQuery('#autodescription_og_description, #autodescription-site-settings\\[homepage_og_description\\]'),s=jQuery('#autodescription_twitter_description, #autodescription-site-settings\\[homepage_twitter_description\\]'),n=jQuery('#tsf-description-reference');if(t.length&&s.length&&n.length){let a=!1,o=tsf.states.homeLocks.ogDescriptionLock,r=tsf.states.homeLocks.ogDescriptionPHLock,l=tsf.states.homeLocks.twDescriptionLock,g=tsf.states.homeLocks.twDescriptionPHLock,c=o?t.prop('placeholder'):t.val(),d=l?s.prop('placeholder'):s.val(),u=n.text();const f=function(T){let C='';switchActive:switch(T){case'twitter':if(C=d,l||g){C=C.length?C:s.prop('placeholder');break switchActive}case'og':if(C=C.length?C:c,o||r){C=C.length?C:t.prop('placeholder');break switchActive}case'reference':C=C.length?C:u;}return C},h=function(){tsf.browseUnhappy&&(a=!0),o||r||t.attr('placeholder',f('reference')),l||g||s.attr('placeholder',f('og')),tsf.browseUnhappy&&setTimeout(function(){a=!1},0)},b=function(T,C,w){let S=document.getElementById(T.id+'_chars');if(S){let I={e:S,text:tsf.unescapeString(C),guidelines:tsf.params.inputGuidelines.description[w].chars};tsf.updateCharacterCounter(I)}};let y=0;const x=function(){clearTimeout(y),y=setTimeout(function(){t.each(function(T,C){return b(C,f('og'),'opengraph')}),s.each(function(T,C){return b(C,f('twitter'),'twitter')})},10)};n.on('change',function(){u=n.text(),h(),x()});t.on('input.tsfUpdateOgDesc',function(T){a||(!o&&(c=T.target.value.length?T.target.value:''),h(),x())}),s.on('input.tsfUpdateOgDesc',function(T){a||(!l&&(d=T.target.value.length?T.target.value:''),h(),x())})}}},_initWebmastersInput:function(){if(tsf.states.isSettingsPage){let t=jQuery(['#autodescription-site-settings\\[google_verification\\]','#autodescription-site-settings\\[bing_verification\\]','#autodescription-site-settings\\[yandex_verification\\]','#autodescription-site-settings\\[pint_verification\\]'].join(', '));t.length&&t.on('paste',function(s){let n=s.originalEvent.clipboardData&&s.originalEvent.clipboardData.getData('text')||void 0;if(n){let a=/<meta[^>]+content=(\"|\')?([^\"\'>\s]+)\1?.*?>/i.exec(n);a&&2 in a&&'string'==typeof a[2]&&a[2].length&&(s.stopPropagation(),s.preventDefault(),s.target.value=a[2])}})}},_initCounters:function(){if(tsf.hasInput){jQuery('.tsf-counter').on('click',function(){++tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),s();let r='.tsf-counter-wrap .tsf-ajax',l=0;tsf.resetAjaxLoader(r),tsf.setAjaxLoader(r);let g={method:'POST',url:ajaxurl,datatype:'json',data:{action:'the_seo_framework_update_counter',nonce:tsf.nonces.edit_posts,val:tsf.counterType},async:!0,success:function(c){switch(c=tsf.convertJSONResponse(c),'success'===c.type&&(l=1),l){case 0:tsf.unsetAjaxLoader(r,!1);break;case 1:tsf.unsetAjaxLoader(r,!0);break;default:tsf.resetAjaxLoader(r);}}};jQuery.ajax(g)});const s=function(){tsf.counterType=+tsf.counterType,3<tsf.counterType&&(tsf.counterType=0),tsf._triggerCounterUpdate()};jQuery('#autodescription-site-settings\\[display_character_counter\\]').on('click',function(o){jQuery(o.target).is(':checked')?jQuery('.tsf-counter-wrap').show():jQuery('.tsf-counter-wrap').hide()});jQuery('#autodescription-site-settings\\[display_pixel_counter\\]').on('click',function(o){jQuery(o.target).is(':checked')?(jQuery('.tsf-pixel-counter-wrap').show(),tsf._triggerCounterUpdate()):jQuery('.tsf-pixel-counter-wrap').hide()})}},tabToggle:function(t,s){let n=jQuery(t.target);if(n.is(':checked')){s='boolean'==typeof s&&s;let a=t.target.id,o=t.target.name,r='tsf-active-tab-content',l='tsf-tab-active',g=jQuery('.'+r),c=n.closest('.tsf-nav-tab-wrapper').find('.'+l),d=g.find('input:invalid, select:invalid, textarea:invalid');if(d.length){try{d[0].reportValidity()}catch(f){let h=jQuery(t.target.form).find('input[type=submit]').not('.autodescription-site-settings\\[tsf-settings-reset\\]');h.length&&h[0].click()}return c.prop('checked',!0),n.prop('checked',!1),t.stopPropagation(),t.preventDefault(),!1}let u=jQuery('#'+a+'-content');if(c.removeClass(l),c.siblings('label').removeClass('tsf-no-focus-ring'),n.addClass(l),s){let f=jQuery('.'+o+'-content');f.removeClass(r).hide(),u.addClass(r).show(),jQuery('#'+a).trigger('tsf-tab-toggled')}else if(u.length&&!u.is(g)){let f=jQuery('.'+o+'-content');f.fadeOut(150,function(){jQuery(this).removeClass(r)}),setTimeout(function(){u.addClass(r).fadeIn(250)},150),setTimeout(function(){jQuery('#'+a).trigger('tsf-tab-toggled')},175)}}},flexTabToggle:function(t,s){let n=jQuery(t.target);if(n.is(':checked')){s='boolean'==typeof s&&s;let a=t.target.id,o=t.target.name,r='tsf-flex-tab-content-active',l='tsf-flex-tab-active',g=jQuery('.'+r),c=n.closest('.tsf-flex-nav-tab-wrapper').find('.'+l),d=g.find('input:invalid, select:invalid, textarea:invalid');if(d.length){try{d[0].reportValidity()}catch(f){let h=jQuery(t.target.form).find('#publishing-action input[type="submit"], #save-action input[type="submit"]');h.length&&h[0].click()}return c.prop('checked',!0),n.prop('checked',!1),t.stopPropagation(),t.preventDefault(),!1}let u=jQuery('#'+a+'-content');if(c.removeClass(l),c.siblings('label').removeClass('tsf-no-focus-ring'),n.addClass(l),s){let f=jQuery('.'+o+'-content');f.removeClass(r).hide(),u.addClass(r).show(),jQuery('#'+a).trigger('tsf-flex-tab-toggled')}else if(u.length&&!u.is(g)){let f=jQuery('.'+o+'-content');f.fadeOut(150,function(){jQuery(this).removeClass(r)}),setTimeout(function(){u.addClass(r).fadeIn(250)},150),setTimeout(function(){jQuery('#'+a).trigger('tsf-flex-tab-toggled')},175)}}},addNoFocusClass:function(){this.classList.add('tsf-no-focus-ring')},setTabsOnload:function(){tsf.hasInput&&(tsf.states.isPostEdit&&jQuery('.tsf-flex-nav-tab-radio:checked').trigger('change',[!0]),tsf.states.isSettingsPage&&jQuery('.tsf-tabs-radio:checked').each(function(t,s){jQuery(s).trigger('change',[!0])}))},_initPostboxToggle:function(){let t;if(tsf.states.isSettingsPage?t=jQuery('.postbox[id^="autodescription-"]').find('.hndle, .handlediv'):tsf.states.isPostEdit&&(t=jQuery('.postbox#tsf-inpost-box').find('.hndle, .handlediv')),t&&t.length){let s;const n=function(){try{s[0].reportValidity()}catch(o){let r=jQuery(s[0].form).find('input[type=submit]').not('.autodescription-site-settings\\[tsf-settings-reset\\]');r.length&&r[0].click()}};t.on('click.tsfPostboxes',function(o){let r=jQuery(o.target).closest('.postbox');r[0].classList.contains('closed')&&(s=r.find('input:invalid, select:invalid, textarea:invalid'),s.length&&(jQuery(document).one('postbox-toggled',n),jQuery(o.target).trigger('click')))})}},taglineToggleDesc:function(t){let s=jQuery(t.target),n=jQuery('#tsf-on-blogname-js');s.is(':checked')?n.css('display','inline'):n.css('display','none')},additionsToggleDesc:function(t){let s=jQuery(t.target),n=jQuery('#tsf-description-additions-js');s.is(':checked')?n.css('display','inline'):n.css('display','none')},taglineToggleOnload:function(){if(tsf.hasInput){let t=jQuery('#tsf-title-tagline-toggle :input'),s=jQuery('.tsf-custom-blogname-js'),n=jQuery('#tsf-description-additions-toggle :input'),a=jQuery('#tsf-description-additions-js'),o=jQuery('#tsf-description-onblogname-toggle :input'),r=jQuery('#tsf-on-blogname-js'),l=jQuery('#tsf-title-additions-toggle :input'),g=jQuery('.tsf-title-additions-js');t.is(':checked')?s.css('display','inline'):s.css('display','none'),n.is(':checked')?a.css('display','inline'):a.css('display','none'),o.is(':checked')?r.css('display','inline'):r.css('display','none'),l.is(':checked')?g.css('display','none'):g.css('display','inline')}},attachUnsavedChangesListener:function(){if(tsf.hasInput){const t=function(o){jQuery(o.data._input).not(o.data._except).off(o.type,s)},s=function(o){tsf.registerChange(),t(o)};let n,a='.tsf-input-not-saved';n=['.tsf-metaboxes :input','#tsf-inpost-box .inside :input'].join(', '),jQuery(n).not(a).off('change.tsfChangeListener').on('change.tsfChangeListener',{_input:n,_except:a},s),n=['.tsf-metaboxes input[type=text]','.tsf-metaboxes textarea','#tsf-inpost-box .inside input[type=text]','#tsf-inpost-box .inside textarea'].join(', '),jQuery(n).not(a).off('input.tsfChangeListener').on('input.tsfChangeListener',{_input:n,_except:a},s),jQuery(window).off('beforeunload.tsfChangeListener').on('beforeunload.tsfChangeListener',function(){if(tsf.settingsChanged)return tsf.i18n.saveAlert}),jQuery(['.tsf-metaboxes input[type="submit"]','#publishing-action input[type="submit"]','#save-action input[type="submit"]','a.submitdelete'].join(', ')).off('click.tsfChangeListener').on('click.tsfChangeListener',function(){tsf.settingsChanged=!1})}},registerChange:function(){tsf.settingsChanged=!0},confirmedReset:function(){return confirm(tsf.i18n.confirmReset)},onLoadUnregisterChange:function(){tsf.settingsChanged=!1},dismissNotice:function(t){jQuery(t.target).parents('.tsf-notice').slideUp(200,function(){this.remove()})},setAjaxLoader:function(t){jQuery(t).toggleClass('tsf-loading')},unsetAjaxLoader:function(t,s){let n='tsf-success',a=2500;s||(n='tsf-error',a=5e3),jQuery(t).removeClass('tsf-loading').addClass(n).fadeOut(a)},resetAjaxLoader:function(t){jQuery(t).stop().empty().prop('class','tsf-ajax').css('opacity','1').removeProp('style')},setColorOnload:function(){let t=jQuery('.tsf-color-picker');t.length&&jQuery.each(t,function(s,n){let a=jQuery(n),o='',r=a.data('tsf-default-color');a.wpColorPicker({defaultColor:r,width:238,change:function(){o=a.wpColorPicker('color'),''==o&&(o=r),a.val(o),tsf.registerChange()},clear:function(){a.parent().siblings('.wp-color-result').css('backgroundColor',r),tsf.registerChange()},palettes:!1})})},_doFlexResizeListener:function(){if(jQuery('.tsf-flex').length){tsf._setResizeListeners();let t=0,s={},n=0,a=jQuery('.tsf-flex-nav-tab-wrapper'),o=jQuery(window);o.on('tsf-flex-resize',function(){clearTimeout(t);let r=0;t=setTimeout(function(){if(a.length){let l=jQuery('.tsf-flex-nav-tab-inner'),g=a.width(),c=l.width(),d=jQuery('.tsf-flex-nav-name');s.tabWrapper||(s.tabWrapper={},s.tabWrapper.outer=0,s.tabWrapper.inner=0,s.tabWrapper.shown=1),!s.tabWrapper.shown&&s.tabWrapper.outer<g&&(d.fadeIn(250),setTimeout(function(){c=l.width()},r)),setTimeout(function(){c>g?(d.hide(),s.tabWrapper.shown=0):s.tabWrapper.outer<g&&(d.fadeIn(250),s.tabWrapper.shown=1)},2*r),setTimeout(function(){s.tabWrapper.outer=g,s.tabWrapper.inner=c},3*r)}},n),r=10,n=75}),o.trigger('tsf-flex-resize')}},_setResizeListeners:function(){jQuery(window).on('resize orientationchange',tsf._triggerResize),jQuery('#collapse-menu').click(tsf._triggerResize),jQuery('.columns-prefs :input[type=radio]').change(tsf._triggerResize),jQuery('.meta-box-sortables').on('sortupdate',tsf._triggerResize)},_triggerResize:function(){jQuery(window).trigger('tsf-flex-resize')},_triggerCounterUpdate:function(){jQuery(window).trigger('tsf-counter-updated')},_triggerReady:function(){jQuery(document.body).trigger('tsf-ready')},_triggerOnLoad:function(){jQuery(document.body).trigger('tsf-onload')},_doReady:function(){tsf._triggerOnLoad(),tsf._initCounters(),tsf._initTitleInputs(),tsf._initUnboundTitleSettings(),tsf._initSocialTitleInputs(),tsf._initDescInputs(),tsf._initSocialDescInputs(),tsf._initWebmastersInput(),tsf.setTabsOnload(),tsf._initPostboxToggle(),tsf.taglineToggleOnload(),tsf.setColorOnload(),tsf.attachUnsavedChangesListener(),tsf.onLoadUnregisterChange(),tsf._doFlexResizeListener(),tsf._triggerReady()},setupVars:function(){tsf.counterType=parseInt(tsf.states.counterType),tsf.hasInput=tsf.states.hasInput},ready:function(t){t('.updated, .error, .notice-error, .notice-warning').insertAfter('.tsf-top-wrap'),tsf.setupVars(),t('.tsf-js-confirm-reset').on('click',tsf.confirmedReset),t('.tsf-tabs-radio').on('change',tsf.tabToggle),t('.tsf-tab').on('click','.tsf-nav-tab',tsf.addNoFocusClass),t('.tsf-flex-nav-tab-radio').on('change',tsf.flexTabToggle),t('.tsf-flex-nav-tab').on('click','.tsf-flex-nav-tab-label',tsf.addNoFocusClass),t('#tsf-description-onblogname-toggle :input').on('click',tsf.taglineToggleDesc),t('#tsf-description-additions-toggle :input').on('click',tsf.additionsToggleDesc),t('.tsf-dismiss').on('click',tsf.dismissNotice),t(document.body).ready(tsf._doReady)}},jQuery(tsf.ready);
